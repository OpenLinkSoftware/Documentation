<?xml version="1.0" encoding="UTF-8"?>
<refentry xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook" xml:id="vc_error_summary">
          <refmeta>
            <refentrytitle>error-summary</refentrytitle>
            <refmiscinfo>vspx_control</refmiscinfo>
          </refmeta>
          <refnamediv>
            <refname>error-summary</refname>
            <refpurpose>Placeholder for error messages.</refpurpose>
          </refnamediv>
          <refsynopsisdiv>
            <funcsynopsis xml:id="vc_syn_error_summary">
              <funcprototype xml:id="vc_proto_error_summary">
                <funcdef>
            &lt;<function>error-summary</function>

 /&gt;</funcdef>
                <paramdef choice="opt"><parameter>match</parameter>

   (optional) </paramdef>
                <paramdef choice="opt"><parameter>debug-srcfile</parameter>

   (optional) </paramdef>
                <paramdef choice="opt"><parameter>debug-srcline</parameter>

   (optional) </paramdef>
                <paramdef choice="opt"><parameter>debug-log</parameter>

   (optional) </paramdef>
              </funcprototype>
            </funcsynopsis>
          </refsynopsisdiv>
          <refsect1 xml:id="vc_desc_error_summary">
            <title>Description</title>
            <para>Placeholder for form error messages.
This is used on a form  to mark where error messages resulting from field or form validation are to be placed.
This   will be rendered if the vc_is_valid member of the enclosing page is false.
If rendered, this prints an error message generated by a validator or a catch handler.
This control wiil not be instantiated.  The error-summary may show errors for all controls or for a group of controls whose name matches a given regular expression.
The vc_error_message members of all controls whose validation failed will be shown at the place marked by this control if attribute 'match' is not specified. Otherwise the vc_error_message of controls whose validation failed and 'name' matches the pattern specified will be shown.
</para>
          </refsect1>
          <refsect1 xml:id="vc_attrs_error_summary">
            <title>Attributes</title>
            <formalpara>
              <title>match</title>
              <para>
This attribute specifies a regular expression to be matched against names of controls with failed validation.
The expression may match more than one control name, concatenating the messages in document order of controls. In this way an error summary may appear in
different places of the page to print errors for different controls.
			   </para>
            </formalpara>
            <formalpara>
              <title>debug-srcfile</title>
              <para>URI of the source document where the tag comes from.</para>
            </formalpara>
            <formalpara>
              <title>debug-srcline</title>
              <para>Line number in the source document where the tag comes from.</para>
            </formalpara>
            <formalpara>
              <title>debug-log</title>
              <para>This defines what sort of data are saved to the debugging log.
</para>
            </formalpara>
          </refsect1>
          <refsect1 xml:id="vc_ex_error_summary">
            <title>Examples</title>
            <example xml:id="vc_ex_error_summary__0">
              <title>
  Validation of text area input
</title>
              <para>
The form contains two v:textarea controls with v:validator elements inside.
When the OK button is pressed data are posted back to the same URI
so the page is instantiated again.
If any validator found a violation the message is shown to the user
in the place specified by v:error-summary element.
</para>
              <screen>
&lt;v:page name="error_summary__0" xmlns:v="http://http://example.com/vspx/"&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;VSPX samples | v:error-summary&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;v:error-summary /&gt;
      &lt;v:form name="form1" type="simple" action="" method="POST"&gt;
        &lt;v:textarea name="ta1" default="enter your first text here" value="--coalesce ({?'ta1'}, control.ufl_value)" error-glyph="*"&gt;
          &lt;v:validator test="length" min="0" max="50" message="The length of the first input should not exceed 50 chars."/&gt;
        &lt;/v:textarea&gt;
        &lt;v:textarea name="ta2" default="enter your second text here" value="--coalesce ({?'ta1'}, control.ufl_value)" error-glyph="*"&gt;
          &lt;v:validator test="length" min="0" max="50" message="The length of the second input should not exceed 50 chars."/&gt;
        &lt;/v:textarea&gt;
        &lt;v:button name="submit1" action="simple" value="OK"/&gt;
      &lt;/v:form&gt;
    &lt;/body&gt;
  &lt;/html&gt;
&lt;/v:page&gt;
</screen>
            </example>
            <example xml:id="vc_ex_error_summary__1">
              <title>
  Validation of text area input with separate error summaries place
</title>
              <para>
The form contains two v:textarea controls with v:validator elements inside.
When the OK button is pressed data are posted back to the same URI
so the page is instantiated again.
If any validator found a violation the message is shown to the user
in the place specified by v:error-summary element depending of a match attribute.

</para>
              <screen>
&lt;v:page name="error_summary__0" xmlns:v="http://http://example.com/vspx/"&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;VSPX samples | v:error-summary&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;v:error-summary match="ta1"/&gt;
      &lt;v:form name="form1" type="simple" action="" method="POST"&gt;
        &lt;v:textarea name="ta1" default="enter your first text here" value="--coalesce ({?'ta1'}, control.ufl_value)" error-glyph="*"&gt;
          &lt;v:validator test="length" min="0" max="50" message="The length of the first input should not exceed 50 chars."/&gt;
        &lt;/v:textarea&gt;
      &lt;v:error-summary match="ta2"/&gt;
        &lt;v:textarea name="ta2" default="enter your second text here" value="--coalesce ({?'ta1'}, control.ufl_value)" error-glyph="*"&gt;
          &lt;v:validator test="length" min="0" max="50" message="The length of the second input should not exceed 50 chars."/&gt;
        &lt;/v:textarea&gt;
        &lt;v:button name="submit1" action="simple" value="OK"/&gt;
      &lt;/v:form&gt;
    &lt;/body&gt;
  &lt;/html&gt;
&lt;/v:page&gt;
</screen>
            </example>
          </refsect1>
        </refentry>
