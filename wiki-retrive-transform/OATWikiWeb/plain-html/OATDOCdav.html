<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<h1><a name="dav.js"></a> dav.js</h1>
<p>Displays a WebDavBrowser<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/WebDavBrowser&parent=OATDOCdav" class="wikiword">?</a> window for file picking/opening/saving.
 Optionally prompts for auth credentials.</p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#Functions">Functions</a></li>
<ul><li><a href="#OAT.WebDav.init%28options%29">OAT.WebDav.init(options)</a></li> <li><a href="#OAT.WebDav.openDialog%28options%29">OAT.WebDav.openDialog(options)</a></li> <li><a href="#OAT.WebDav.saveDialog%28options%29">OAT.WebDav.saveDialog(options)</a></li> </ul><li><a href="#Examples">Examples</a></li><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="Functions"></a> Functions</h2>
<h3><a name="OAT.WebDav.init(options)"></a> OAT.WebDav.init(options)</h3>
<p>Creates WebDAVBrowser<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/WebDAVBrowser&parent=OATDOCdav" class="wikiword">?</a> window and sets various configurationoptions, if needed.
 All possible options:</p>
<ul><li><b>user</b> - username </li>
<li><b>pass</b> - username </li>
<li><b>path</b> - path which should be opened </li>
<li><b>file</b> - default preselected file name </li>
<li><b>silentStart</b> - do not display connection setup dialog on WebDAVinitialization<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/WebDAVinitialization&parent=OATDOCdav" class="wikiword">?</a> </li>
<li><b>extension</b> - ID of default file type extension to be selected </li>
<li><b>pathFallback</b> - this is a failsafe path which will be offered when HTTP errors prohibit changing to requested path </li>
<li><b>imagePath</b> - path to images, with trailing slash </li>
<li><b>imageExt</b> - image files extension </li>
<li><b>isDav</b> - whether the server is DAV.
 For non-DAV HTTP servers, a minimal &#39;prompt&#39; will be used instead of full Browser When no user/pass is passed in options or silent Setupis set to false, user will be prompted for credentials through connection settings dialog.</li>
</ul><h3><a name="OAT.WebDav.openDialog(options)"></a> OAT.WebDav.openDialog(options)</h3>
<p>Opens the Browser in file browse mode.
 User can select a file, which will be passed back to application.
 All options passed to OAT.WebDav.init can be used here.
 Additional specific options:</p>
<ul><li><b>callback</b> - function to be executed when user selects a file.
 This will be called with 3 arguments:path,file name and contents.
</li>
<li><b>extensionFilters</b> - array of file type extensions.
 Each item consists of 4 values:arbitrary unique ID,extension,description, and optional content type</li>
</ul><h3><a name="OAT.WebDav.saveDialog(options)"></a> OAT.WebDav.saveDialog(options)</h3>
<p>Opens the Browser in file save mode.
 User can select a new/existing file, the Browser will then save specified data to that file.
 All options passed to OAT.WebDav.init can be used here.
 Additional specific options: </p>
<ul><li><b>callback</b> - same as inOAT.WebDav.openDialog </li>
<li><b>extensionFilters</b> - same as inOAT.WebDav.openDialog </li>
<li><b>confirmOverwrite</b> - bool, should we ask for a confirmation when overwriting existing file? </li>
<li><b>dataCallback</b> - function which provides data to be saved.
 Will be executed with two arguments:selected file name and used extension ID.
 If set to false, nothing will be saved.</li>
</ul><h2><a name="Examples"></a> Examples</h2>
<br><pre>var options = {
        user:&quot;demo&quot;,
        pass:&quot;demo&quot;,
        path:&quot;/DAV/home/demo/&quot;,
        isDav:true,
        extensionFilters:[
                [&quot;all&quot;,         &quot;*&quot;,   &quot;All files&quot;,     &quot;text/plain&quot;],
                [&quot;xmldoc&quot;,      &quot;xml&quot;, &quot;XML Documents&quot;, &quot;text/xml&quot;],
                [&quot;xmltemplate&quot;, &quot;xml&quot;, &quot;XML Templates&quot;, &quot;application/xml&quot;]
        ]
}

OAT.WebDav.init(options);

function showContents(path, file, data) {
        alert(path+file+&#39; contains:\n\n&#39;+data);
}

OAT.WebDav.openDialog({callback:showContents});
</pre><p> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryDocumentation" class="wikiword">CategoryDocumentation</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOAT" class="wikiword">CategoryOAT</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOpenSource" class="wikiword">CategoryOpenSource</a></p>
</div></body></html>