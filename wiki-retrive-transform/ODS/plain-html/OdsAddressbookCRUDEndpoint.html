<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="OdsAddressbook"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OdsAddressbook"}%--><p> </p>
<h1><a name="Manipulate my Addressbook data via CRUD RESTful using Addressbook"></a>Manipulate my Addressbook data via CRUD RESTful using Addressbook CardDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CardDAV&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Endpoint</h1>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#What%3F">What?</a></li> <li><a href="#Why%3F">Why?</a></li> <li><a href="#How%3F">How?</a></li>
<ul><li><a href="#Example%20with%20Addressbook%20instance%20that%20has%20Member%20model%20from%20type%20%22Closed%22%20and%20is%20not%20set%20%22Visible%20to%20public%22">Example with Addressbook instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;</a></li> <li><a href="#Example%20with%20Addressbook%20instance%20that%20has%20Member%20model%20from%20type%20%22Opened%22%20and%20is%20set%20%22Visible%20to%20Public%22">Example with Addressbook instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;</a></li> </ul><li><a href="#Related">Related</a></li><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><p> </p>
<h2><a name="What?"></a>What?</h2>
 AddressBook<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/AddressBook&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> CRUD (<b>C</b>reate, <b>R</b>ead, <b>U</b>pdate, <b>D</b>elete) Endpoint Service.<h2><a name="Why?"></a>Why?</h2>
 Using CRUD RESTful Endpoint service provides an easy way to manage contacts.<h2><a name="How?"></a>How?</h2>
 Knowing an Addressbook CRUD Endpoint Service endpoint URL, one can perform the following activities: <ul><li>Copy-paste vCard files containing contacts.
 So once pasted, the system creates the contacts; </li>
<li>Edit contact(s); </li>
<li>Update contact(s); </li>
<li>Delete contact(s); </li>
<li>Update RDF Data for the Addressbook instance.
 Depending on the instance&#39;s model: <ul><li>When model is &quot;Closed&quot;, will be updated the RDF Data for the instance&#39;s private graph: <br><pre><br>http://cname/dataspace/protected/[name-of-the-instance]
</pre><br></li>
<li>When model is &quot;Opened&quot;, will be updated the RDF Data for the ODS Dataspace public graph: <br><pre><br>http://cname/dataspace/[name-of-the-instance]
</pre><br></li>
</ul></li>
</ul><p> </p>
<h3><a name="Example with Addressbook instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;"></a>Example with Addressbook instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;</h3>
<ol><li>Suppose a user, for ex.
 &quot;demo&quot;, has created Addressbook instance with name &quot;demoAddressBook&quot; and <code>Member model</code> is &quot;Closed&quot;: <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud1.png"><br><br> </li>
<li>Mount the Addressbook CardDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CardDAV&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Endpoint URL <code> <a href="http://localhost:8890/DAV/home/demo/addressbooks/demoAddressBook/</code" class="absuri">http://localhost:8890/DAV/home/demo/addressbooks/demoAddressBook/</a>&gt; <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud2.png"><br><br> <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud3.png"><br><br> <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud4.png"><br><br> </code></li>
<li>Drop a .vcf file, for ex.
 kidehen.vcf into the mapped CardDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CardDAV&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Addressbook folder: <br><pre><br>-- kidehen.vcf
BEGIN:VCARD
VERSION:3.0
REV:2012-01-23T15:30:04-05:00
UID:B12074BC-DB7B-47F5-856E-2DBD08923381-ABSPlugin
NICKNAME:Idehen
FN:Kingsley Idehen
N:Idehen;Kingsley;;
ORG:OpenLink Software
TITLE:CEO
END:VCARD
</pre><br><br><br><img src="OdsAddressbookCRUDEndpoint/abcrud5.png"><br><br> </li>
<li>The user demo&#39;s Addressbook Dataspace instance UI now should show under &quot;My Contacts&quot; the new imported contact(s): <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud6.png"><br><br> </li>
<li><a href="http://ods.openlinksw.com/dataspace/dav/wiki/ODS/ODSGenerateX509Certificate" class="absuri">Generate an X.509 Certificate hosted WebID</a> for user &quot;demo&quot; WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a>.
</li>
<li><a href="http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtAuthFOAFSSLACL" class="absuri">Secure your SPARQL Endpoint via user &quot;demo&quot; WebID</a>, for ex.: <br><pre><br>-- user &quot;demo&quot; WebID:
http://localhost:8890/dataspace/person/demo#this

-- SPARQL-WebID Endpoint:
-- https://localhost:4433/sparql-webid
</pre><br></li>
<li>Access the SPARQL-WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Endpoint.
</li>
<li>When challenged for authentication select the generated from above certificate for user &quot;demo&quot;: <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud8.png"><br><br> </li>
<li>The SPARQL-WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Endpoint UI should be presented: <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud9.png"><br><br> </li>
<li>Enter the following query: <br><pre><br>SELECT * 
FROM &lt;http://localhost:8890/dataspace/protected/demoAddressBook&gt;
WHERE {?s ?p ?o}
</pre><br><br><br><img src="OdsAddressbookCRUDEndpoint/abcrud10.png"><br><br> </li>
<li>As result no rows are found.</li>
</ol><h3><a name="Example with Addressbook instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;"></a>Example with Addressbook instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;</h3>
<ol><li>Suppose a user, for ex.
 &quot;demo&quot;, has created Addressbook instance with name &quot;demoAddressBook&quot; and <code>Member model</code> is &quot;Opened&quot; and is set &quot;Visible to Public&quot;.
<br><br><img src="OdsAddressbookCRUDEndpoint/abcrud12.png"><br><br> </li>
<li>Mount the Addressbook CardDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CardDAV&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Endpoint URL <code> <a href="http://localhost:8890/DAV/home/demo/addressbooks/demoAddressBook/</code" class="absuri">http://localhost:8890/DAV/home/demo/addressbooks/demoAddressBook/</a>&gt; <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud2.png"><br><br> <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud3.png"><br><br> <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud4.png"><br><br> </code></li>
<li>Drop a .vcf file, for ex.
 kidehen.vcf into the mapped CardDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CardDAV&parent=OdsAddressbookCRUDEndpoint" class="wikiword">?</a> Addressbook folder: <br><pre><br>-- kidehen.vcf
BEGIN:VCARD
VERSION:3.0
REV:2012-01-23T15:30:04-05:00
UID:B12074BC-DB7B-47F5-856E-2DBD08923381-ABSPlugin
NICKNAME:Idehen
FN:Kingsley Idehen
N:Idehen;Kingsley;;
ORG:OpenLink Software
TITLE:CEO
END:VCARD
</pre><br><br><br><img src="OdsAddressbookCRUDEndpoint/abcrud5.png"><br><br> </li>
<li>The user demo&#39;s Addressbook Dataspace instance UI now should show under &quot;My Contacts&quot; the new imported contact(s): <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud6.png"><br><br> </li>
<li>Access the SPARQL Public Endpoint.
<br><br><img src="OdsAddressbookCRUDEndpoint/abcrud13.png"><br><br> </li>
<li>Suppose the inserted from above contact has id=1004.
</li>
<li>Enter the following query: <br><pre><br>SELECT * 
FROM &lt;http://localhost:8890/dataspace&gt;
WHERE {&lt;http://localhost:8890/dataspace/demo/addressbook/demoAddressBook/1004&gt; ?p ?o}
</pre><br><br><br><img src="OdsAddressbookCRUDEndpoint/abcrud14.png"><br><br> </li>
<li>Click &quot;Run Query&quot;.
</li>
<li>As result the freshly inserted RDF Data for the contact in question will be displayed: <br><br><img src="OdsAddressbookCRUDEndpoint/abcrud15.png"><br><br></li>
</ol><p> </p>
<h2><a name="Related"></a>Related</h2>
<ul><li><a href="http://ietfreport.isoc.org/idref/draft-ietf-vcarddav-carddav/" class="absuri">CardDAV Specification</a> </li>
<li><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/OdsAddressbook" class="wikiword">ODS-Addressbook Dataspace</a> </li>
</ul></div></body></html>