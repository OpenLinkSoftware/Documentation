<html><body><div class="topic-text"><!--Begin of %VOSWARNING{}%--><div id="warning" style="display: none; color: red; background-color: #eaeaea; font-size: 120%; border: solid 1px silver; padding: 0.1em; margin-top: 1em; margin-bottom: 1em">WARNING! This URL (in the Main cluster) is no longer the authoritative source for this page; it has been moved to the VOS or ODS cluster as appropriate instead.
 See Tim Haynes in case of confusion.</div> <script type="text/javascript"> if(window.location.href.match(//Main//)) { document.getElementById('warning').style.display='block'; } else { document.getElementById('warning').style.display='none'; } </script><!--End of %VOSWARNING{}%--><p> <!--Begin of %META:TOPICPARENT{name="VirtuosoAppODSUsers"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="VirtuosoAppODSUsers"}%--> <!--Begin of %VOSNAV{}%--><p> </p>
<!--End of %VOSNAV{}%--></p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#ODS%20Controller%20for%20JSP%20Api%20Login">ODS Controller for JSP Api Login</a></li>
<p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h3><a name="ODS Controller for JSP Api Login"></a>ODS Controller for JSP Api Login</h3>
<p>Note: you should have the users.jsp and users_dsn.jsp (created after installation) file physically located on your machine.</p>
<ol><li>The implementation uses Java version 1.5 (version 5), so you should run the corresponding Virtuoso executive.
 You need also to have installed Tomcat version 5.5.x.
</li>
<li>The page name is &#39;users.jsp&#39;.
</li>
<li>The endpoint URL is http://[cname]:[port]/jsp/users/users.jsp.
</li>
<li>Configuration <ol><li>Start Virtuoso executive </li>
<li>Install Tomcat </li>
<li>Copy file &#39;virtjdbc3.jar&#39; into &#39;[Tomcat installation folder]/common/lib&#39; </li>
<li>Create file with name &#39;users#jsp.xml&#39; in &#39;[Tomcat installation folder]/conf/Catalina/[cname]/&#39; with content: <br><pre><br>&lt;!--
  Context configuration file for the ODS-Users Web Application
--&gt;
&lt;Context docBase=&quot;[Enter here the physical location to the users.jsp file]&quot;
         privileged=&quot;true&quot;
         antiResourceLocking=&quot;false&quot;
         antiJARLocking=&quot;false&quot;&gt;
&lt;/Context&gt;
</pre><br></li>
<li>Start Tomcat </li>
<li>Build and install the conductor_dav.vad package </li>
<li>Setting Virtual Directory: <ol><li>Go to http://[cname]:[port]/conductor </li>
<li>Login as dba user.
</li>
<li>Go to &quot;WebDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebDAV&parent=ODSControllerJSPApiLogin" class="wikiword">?</a> &amp; HTTP&quot;-&gt;&quot;HTTP Hosts &amp; Directories&quot; tab.
</li>
<li>If directory link &#39;/jsp/users&#39; exists update it with properties described below or click the &quot;New Directory&quot; link.
</li>
<li>Click the &quot;Type&quot; radio-box and select from the drop-down list the value &quot;Proxy server&quot;.
</li>
<li>Click &quot;Next&quot;.
</li>
<li>In the shown form: <ol><li>For field &quot;Virtual directory path&quot; enter the value: /jsp/users </li>
<li>For field &quot;Proxy to&quot; enter the value: http://[Tomcat Host]:[Tomcat Port]/users/jsp </li>
<li>For &quot;VSP User&quot; select from the drop-down list: dba </li>
</ol></li>
<li>Click the &quot;Save changes&quot; button.
</li>
</ol></li>
<li>After VAD installing new page is created in folder &#39;/DAV/VAD/wa/users&#39; - &#39;users_dsn.jsp&#39;.
 This page contains connection information - cname, user, password.
</li>
<li>Files &#39;users.jsp&#39; and &#39;users_dsn.jsp&#39; must downloaded into local file system.
</li>
<li>If some database parameters are changed after installation file &#39;users_dsn.jsp&#39; must be updated.
 Go to your physical location of the &#39;users_dsn.jsp&#39; file and set the correct values for the connection to the database: <br><pre><br>&lt;%
  String $_dsn = &quot;jdbc:virtuoso://[cname]:[SQL Server port]&quot;;
  String $_user = &quot;dba&quot;;
  String $_pass = &quot;dba&quot;;
%&gt;
</pre><br></li>
<li>Install the ods <u>framework_dav.vad package.
</u></li>
<li>Go to http://[cname]:[port]/jsp/users/users.jsp.</li>
</ol></li>
</ol><p><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CategoryODS" class="wikiword">CategoryODS</a> <a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CategoryJSP" class="wikiword">CategoryJSP</a></p>
<!--Begin of %VOSCOPY{}%--><p> </p>
<!--End of %VOSCOPY{}%--><p> </p>
</div></body></html>