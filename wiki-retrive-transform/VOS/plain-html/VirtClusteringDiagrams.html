<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="TedThibodeau"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="TedThibodeau"}%--><p> </p>
<h1><a name="Clustering Deployment Architecture Diagrams for Virtuoso (Release 6 and later, Commercial Edition only)"></a> Clustering Deployment Architecture Diagrams for Virtuoso (Release 6 and later, Commercial Edition only)</h1>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#Does%20my%20Virtuoso%20deployment%20support%20Replication%20Clustering%20and%2For%20Elastic%20Clustering%3F">Does my Virtuoso deployment support Replication Clustering and/or Elastic Clustering?</a></li> <li><a href="#Replication%20Clustering">Replication Clustering</a></li>
<ul><li><a href="#Replication%20Clustering%20with%20Single-Server%20Virtuoso%20instances">Replication Clustering with Single-Server Virtuoso instances</a></li> </ul><li><a href="#Shared-Nothing%20Elastic%20Clustering">Shared-Nothing Elastic Clustering</a></li><ul><li><a href="#Simple%20Elastic%20Clustering%20%28quorums%20of%201%20instance%20per%20cluster%20node%29">Simple Elastic Clustering (quorums of 1 instance per cluster node)</a></li><ul><li><a href="#Four%20cluster%20nodes%2C%20one%20cluster%20host%20node">Four cluster nodes, one cluster host node</a></li> <li><a href="#Four%20cluster%20nodes%2C%20two%20cluster%20host%20nodes">Four cluster nodes, two cluster host nodes</a></li> <li><a href="#Four%20cluster%20nodes%2C%20four%20cluster%20host%20nodes">Four cluster nodes, four cluster host nodes</a></li> </ul><li><a href="#High%20Availability%20Elastic%20Clustering%20%28quorums%20of%20three%20instances%20per%20cluster%20node%29">High Availability Elastic Clustering (quorums of three instances per cluster node)</a></li><ul><li><a href="#Four%20cluster%20nodes%2C%20three%20instances%20per%20cluster%20node%20%28quorum%29%2C%20four%20instances%20per%20cluster%20host%20node%2C%20three%20cluster%20host%20nodes">Four cluster nodes, three instances per cluster node (quorum), four instances per cluster host node, three cluster host nodes</a></li> <li><a href="#Four%20cluster%20nodes%2C%20three%20instances%20per%20cluster%20node%20%28quorum%29%2C%20two%20instances%20per%20cluster%20host%20node%2C%20six%20cluster%20host%20nodes">Four cluster nodes, three instances per cluster node (quorum), two instances per cluster host node, six cluster host nodes</a></li> <li><a href="#Four%20cluster%20nodes%2C%20three%20instances%20per%20cluster%20node%20%28quorum%29%2C%20one%20instance%20per%20cluster%20host%20node%2C%20twelve%20cluster%20host%20nodes">Four cluster nodes, three instances per cluster node (quorum), one instance per cluster host node, twelve cluster host nodes</a></li> </ul> </ul><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="Does my Virtuoso deployment support Replication Clustering and/or Elastic Clustering?"></a> Does my Virtuoso deployment support Replication Clustering and/or Elastic Clustering?</h2>
<p><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtGraphReplication" class="wikiword">Replication Clustering</a> is a feature of all Commercial Editions of Virtuoso 6 and later.
 It is not available for use in the Open Source Edition (VOS).</p>
<p>Elastic Clustering is enabled by the add-on Cluster Module of Virtuoso 7 and later.
 It is not available for use in the Open Source Edition (VOS).</p>
<h2><a name="Replication Clustering"></a> Replication Clustering</h2>
<p>Replication clusters provide redundancy and disaster recovery, and can provide some degree of load balancing and high availability -- but the downstream subscribers (commonly called &quot;slaves&quot;) are entirely dependent on the upstream publishers (&quot;masters&quot;) for their data.</p>
<p>READ clients <b>may</b> be allowed to access any instance, but they will only get whatever data has flowed downstream through the replication topology at that point.</p>
<p>In Star or Chain topologies, WRITE clients should only access the most upstream instance, so that all changes flow to all other instances.
 In a Bi-directional topology, it doesn&#39;t matter which instance a WRITE client targets -- but issues can arise from collisions, when conflicting WRITEs are made to opposite ends of the stream.</p>
<h3><a name="Replication Clustering with Single-Server Virtuoso instances"></a> Replication Clustering with Single-Server Virtuoso instances</h3>
<ul><li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtGraphReplicationStar" class="wikiword">Star Topology</a> <br><br><img src="VirtClusteringDiagrams/../VirtGraphReplicationStar/topo-star.png"><br><br> </li>
<li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtGraphReplicationChain" class="wikiword">Chain Topology</a> <br><br><img src="VirtClusteringDiagrams/../VirtGraphReplicationChain/topo-chain.png"><br><br> </li>
<li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtGraphReplicationBiDirectional" class="wikiword">2-node Bi-directional Topology</a> <br><br><img src="VirtClusteringDiagrams/../VirtGraphReplicationBiDirectional/topo-bidirectional.png"><br><br></li>
</ul><p> </p>
<h2><a name="Shared-Nothing Elastic Clustering"></a> Shared-Nothing Elastic Clustering</h2>
<p><a href="http://docs.openlinksw.com/virtuoso/clusteroperation/" class="absuri">Shared-Nothing Elastic Clustering</a> is enabled by the Cluster Module, an optionally licensed component of Virtuoso 7 and later.</p>
<p>Clients may access any instance in an Elastic Cluster, and every instance in the Elastic Cluster effectively has <b>all</b> data available to it at all times.</p>
<p>Each Single-Server instance shown in the basic Replication Clustering, above, could be replaced by one of the &quot;clouds&quot; shown below.
 Typically, the deployment configuration within each &quot;cloud&quot; in a given Replication Cluster would be the same as in all the others, but there <b>are</b> circumstances where the instances in a replication cluster might not be identical.</p>
<p> </p>
<h3><a name="Simple Elastic Clustering (quorums of 1 instance per cluster node)"></a> Simple Elastic Clustering (quorums of 1 instance per cluster node)</h3>
<p>Adding hosts to an elastic cluster provides more resources, and thus improves performance, and increases capacities.</p>
<p>The three clouds below may be viewed as a deployment&#39;s growth from initial deployment on one host (with one license file), expanding to 2 hosts (and two license files), and on to four hosts (and four license files).</p>
<p> </p>
<h4><a name="Four cluster nodes, one cluster host node"></a> Four cluster nodes, one cluster host node</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-simple-1-host-4-nodes.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-simple-1-host-4-nodes.png" width="600px"></a><br><br><p> </p>
<h4><a name="Four cluster nodes, two cluster host nodes"></a> Four cluster nodes, two cluster host nodes</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-simple-2-hosts-4-nodes.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-simple-2-hosts-4-nodes.png" width="600px"></a><br><br><p> </p>
<h4><a name="Four cluster nodes, four cluster host nodes"></a> Four cluster nodes, four cluster host nodes</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-simple-4-hosts-4-nodes.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-simple-4-hosts-4-nodes.png" width="600px"></a><br><br><p> </p>
<h3><a name="High Availability Elastic Clustering (quorums of three instances per cluster node)"></a> High Availability Elastic Clustering (quorums of three instances per cluster node)</h3>
<p>The three clouds in this section may be viewed as a high-availability version of the preceding three, likewise evolving from smaller scale to larger scale.</p>
<h4><a name="Four cluster nodes, three instances per cluster node (quorum), four instances per cluster host node, three cluster host nodes"></a> Four cluster nodes, three instances per cluster node (quorum), four instances per cluster host node, three cluster host nodes</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-ha-3-hosts-4-nodes-of-3-instance-quorums.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-ha-3-hosts-4-nodes-of-3-instance-quorums.png" width="600px"></a><br><br><p> </p>
<h4><a name="Four cluster nodes, three instances per cluster node (quorum), two instances per cluster host node, six cluster host nodes"></a> Four cluster nodes, three instances per cluster node (quorum), two instances per cluster host node, six cluster host nodes</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-ha-6-hosts-4-nodes-of-3-instance-quorums.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-ha-6-hosts-4-nodes-of-3-instance-quorums.png" width="600px"></a><br><br><h4><a name="Four cluster nodes, three instances per cluster node (quorum), one instance per cluster host node, twelve cluster host nodes"></a> Four cluster nodes, three instances per cluster node (quorum), one instance per cluster host node, twelve cluster host nodes</h4>
<br><br><a href="VirtClusteringDiagrams/elastic-ha-12-hosts-4-nodes-of-3-instance-quorums.png" target="_blank"><img src="VirtClusteringDiagrams/elastic-ha-12-hosts-4-nodes-of-3-instance-quorums.png" width="600px"></a><br><br> </div></body></html>