<html><body><div class="topic-text"><h1><a name="Shortening URIs with Virtuoso"></a> Shortening URIs with Virtuoso</h1>
<p>Long URLs are hard for humans to type or remember, and don&#39;t work very well with short message services like <a href="http://twitter.com/OpenLink" class="absuri">Twitter</a> or <a href="http://identi.ca/kidehen" class="absuri">identi.ca</a>.</p>
 <p><b>CURIs</b> are compressed URIs which redirect to the original long URL.
 They are easier to share, type, and use in general.</p>
<p>The Virtuoso URI Shortener offers a way to do this in your own domain and data space, without reliance on external services such as <a href="http://bit.ly/" class="absuri">bit.ly</a>, <a href="http://is.gd/" class="absuri">is.gd</a>, or <a href="http://tinyurl.com/" class="absuri">tinyurl.com</a>.</p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#How%20does%20it%20work%3F">How does it work?</a></li>
<ul><li><a href="#Configuration%20Options">Configuration Options</a></li> </ul><li><a href="#Package%20Installation%20and%20Accessibility">Package Installation and Accessibility</a></li> <li><a href="#Example">Example</a></li><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="How does it work?"></a>How does it work?</h2>
<p>All full-length URIs are stored in a Virtuoso database table which keeps a unique ID number for each URI.
 This ID is converted to base32 encoding, which only uses uppercase letters and numbers from 2 to 7, for use in the CURI.</p>
<i><b>Note</b>: numbers 1 and 0 are not used in this encoding, eliminating the common visual confusion between uppercase o and number 0, and between uppercase i, lowercase L, and number 1.</i><h3><a name="Configuration Options"></a> Configuration Options</h3>
<p>The prefix for loading images, CSS, etc., can be set through the Virtuoso INI file option, <code>CURIUISkinPrefix</code>.</p>
<h2><a name="Package Installation and Accessibility"></a>Package Installation and Accessibility</h2>
<ol><li>Download the <a href="https://virtuoso.openlinksw.com/download/" class="absuri">Virtuoso URI Shortener VAD</a> package.
</li>
<li>Install the package through the Virtuoso Conductor from the <code>System Admin -&gt; Packages</code> tab or using the isql command line program as shown below: <br><pre><br>SQL&gt; DB.DBA.VAD_INSTALL(&#39;tmp/c_uri_dav.vad&#39;,0);
VARCHAR  VARCHAR
_______________________________________________________________________________

00000    No errors detected
00000    Installation of &quot;OpenLink Virtuoso URI Shortener&quot; is complete.
00000    Now making a final checkpoint.
00000    Final checkpoint is made.
00000    SUCCESS


6 Rows. -- 1766 msec.
</pre><br></li>
<li>Go to Endpoint  - http://&lt;cname&gt;/c <ul><li>Note: you could also use the page:<code>http://&lt;cname&gt;[:&lt;port&gt;]/c/create.vsp?uri=xx</code> </li>
</ul></li>
<li>Paste in long URL.</li>
</ol><h2><a name="Example"></a>Example</h2>
<ul><li>Load your service, e.g., <code>http://&lt;cname&gt;/c</code> in your browser.
<br><br><img src="VirtURIShortener/c1.png"><br><br> </li>
<li>Enter a URI, e.g., <br><pre><br>http://lod.openlinksw.com/sparql?default-graph-uri=&amp;should-sponge=&amp;query=SELECT+%3Fx%0D%0AWHERE%0D%0A++{%0D%0A++++%3Fx++foaf%3Aname++%22Alice%22++.%0D%0A++++FILTER%0D%0A++++++%28%0D%0A++++++++bif%3Aexists%0D%0A++++++++++%28+%28%0D%0A+++++++++++++SELECT+*%0D%0A+++++++++++++WHERE%0D%0A+++++++++++++++{%0D%0A+++++++++++++++++%3Fx++foaf%3Aknows++%3Fy++++++.%0D%0A+++++++++++++++++%3Fy++foaf%3Aname+++%22John%22%0D%0A+++++++++++++++}%0D%0A++++++++++%29+%29%0D%0A++++++%29%0D%0A++}&amp;format=text%2Fhtml&amp;debug=on&amp;timeout=
</pre><br><br><br><img src="VirtURIShortener/c2.png"><br><br> </li>
<li>Click <b>Make CURI</b>.
</li>
<li>A new CURI will be created and displayed, e.g., <br><pre><br>http://&lt;cname&gt;/c/7EFF
</pre><br><br><br><img src="VirtURIShortener/c3.png"><br><br></li>
</ul></div></body></html>