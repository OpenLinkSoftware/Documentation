<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="OdsCalendar"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OdsCalendar"}%--><h1><a name="Manipulate my Calendar data via CRUD RESTful using Calendar"></a>Manipulate my Calendar data via CRUD RESTful using Calendar CalDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CalDAV&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Endpoint</h1>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#What%3F">What?</a></li> <li><a href="#Why%3F">Why?</a></li> <li><a href="#How%3F">How?</a></li>
<ul><li><a href="#Example%20with%20Calendar%20instance%20that%20has%20Member%20model%20from%20type%20%22Closed%22%20and%20is%20not%20set%20%22Visible%20to%20public%22">Example with Calendar instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;</a></li> <li><a href="#Example%20with%20Calendar%20instance%20that%20has%20Member%20model%20from%20type%20%22Opened%22%20and%20is%20set%20%22Visible%20to%20Public%22">Example with Calendar instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;</a></li> </ul><li><a href="#Related">Related</a></li><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><p> </p>
<h2><a name="What?"></a>What?</h2>
 Calendar CRUD (<b>C</b>reate, <b>R</b>ead, <b>U</b>pdate, <b>D</b>elete) Endpoint Service.<h2><a name="Why?"></a>Why?</h2>
 Using CRUD RESTful Endpoint service provides an easy way to manage calendar tasks/events.<h2><a name="How?"></a>How?</h2>
 Knowing an Calendar CRUD Endpoint Service endpoint URL, one can perform the following activities: <ul><li>Copy-paste vCard files containing calendar tasks/events.
 So once pasted, the system creates the calendar tasks/events; </li>
<li>Edit task(s)/event(s); </li>
<li>Update task(s)/event(s); </li>
<li>Delete task(s)/event(s); </li>
<li>Update RDF Data for the Calendar instance.
 Depending on the instance&#39;s model: <ul><li>When model is &quot;Closed&quot;, will be updated the RDF Data for the instance&#39;s private graph: <br><pre><br>http://cname/dataspace/protected/[name-of-the-instance]
</pre><br></li>
<li>When model is &quot;Opened&quot;, will be updated the RDF Data for the ODS Dataspace public graph: <br><pre><br>http://cname/dataspace/[name-of-the-instance]
</pre><br></li>
</ul></li>
</ul><p> </p>
<h3><a name="Example with Calendar instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;"></a>Example with Calendar instance that has Member model from type &quot;Closed&quot; and is not set &quot;Visible to public&quot;</h3>
<ol><li>Suppose a user, for ex.
 &quot;demo&quot;, has created Calendar instance with name &quot;demoCalendar&quot; and <code>Member model</code> is &quot;Closed&quot;: <br><br><img src="OdsCalendarCRUDEndpoint/clcrud1.png"><br><br> </li>
<li>Mount the Calendar CalDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CalDAV&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Endpoint URL <code> <a href="http://localhost:8890/DAV/home/demo/calendars/demoCalendar/</code" class="absuri">http://localhost:8890/DAV/home/demo/calendars/demoCalendar/</a>&gt; <br><br><img src="OdsCalendarCRUDEndpoint/clcrud2.png"><br><br> <br><br><img src="OdsCalendarCRUDEndpoint/clcrud3.png"><br><br> <br><br><img src="OdsCalendarCRUDEndpoint/clcrud4.png"><br><br> </code></li>
<li>Drop a .vcf file, for ex.
 <a href="OdsCalendarCRUDEndpoint/demo-calendar.ics" style="wikiautogen">demo-calendar.ics</a> into the mapped CalDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CalDAV&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Calendar folder: <br><br><img src="OdsCalendarCRUDEndpoint/clcrud5.png"><br><br> </li>
<li>The user demo&#39;s Calendar Dataspace instance UI now should show under &quot;Tasks&quot;/&quot;Events&quot; the new imported task(s)/event(s): <br><br><img src="OdsCalendarCRUDEndpoint/clcrud6.png"><br><br> <br><br><img src="OdsCalendarCRUDEndpoint/clcrud7.png"><br><br> </li>
<li><a href="http://ods.openlinksw.com/dataspace/dav/wiki/ODS/ODSGenerateX509Certificate" class="absuri">Generate an X.509 Certificate hosted WebID</a> for user &quot;demo&quot; WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a>.
</li>
<li><a href="http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtAuthFOAFSSLACL" class="absuri">Secure your SPARQL Endpoint via user &quot;demo&quot; WebID</a>, for ex.: <br><pre><br>-- user &quot;demo&quot; WebID:
http://localhost:8890/dataspace/person/demo#this

-- SPARQL-WebID Endpoint:
-- https://localhost:4433/sparql-webid
</pre><br></li>
<li>Access the SPARQL-WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Endpoint.
</li>
<li>When challenged for authentication select the generated from above certificate for user &quot;demo&quot;: <br><br><img src="OdsCalendarCRUDEndpoint/abcrud8.png"><br><br> </li>
<li>The SPARQL-WebID<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/WebID&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Endpoint UI should be presented: <br><br><img src="OdsCalendarCRUDEndpoint/abcrud9.png"><br><br> </li>
<li>Enter the following query: <br><pre><br>SELECT * 
FROM &lt;http://localhost:8890/dataspace/protected/demoCalendar&gt;
WHERE {?s ?p ?o}
</pre><br><br><br><img src="OdsCalendarCRUDEndpoint/clcrud10.png"><br><br> </li>
<li>As result no rows are found.</li>
</ol><h3><a name="Example with Calendar instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;"></a>Example with Calendar instance that has Member model from type &quot;Opened&quot; and is set &quot;Visible to Public&quot;</h3>
<ol><li>Suppose a user, for ex.
 &quot;demo&quot;, has created Calendar instance with name &quot;demoCalendar&quot; and <code>Member model</code> is &quot;Opened&quot; and is set &quot;Visible to Public&quot;.
<br><br><img src="OdsCalendarCRUDEndpoint/clcrud12.png"><br><br> </li>
<li>Mount the Calendar CalDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CalDAV&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Endpoint URL <code> <a href="http://localhost:8890/DAV/home/demo/calendars/demoCalendar/</code" class="absuri">http://localhost:8890/DAV/home/demo/calendars/demoCalendar/</a>&gt; <br><br><img src="OdsCalendarCRUDEndpoint/clcrud2.png"><br><br> <br><br><img src="OdsCalendarCRUDEndpoint/clcrud3.png"><br><br> <br><br><img src="OdsCalendarCRUDEndpoint/clcrud4.png"><br><br> </code></li>
<li>Drop a .ics file, for ex.
 * <a href="OdsCalendarCRUDEndpoint/demo-calendar.ics" style="wikiautogen">demo-calendar.ics</a> into the mapped CalDAV<a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CalDAV&parent=OdsCalendarCRUDEndpoint" class="wikiword">?</a> Calendar folder: <br><br><img src="OdsCalendarCRUDEndpoint/clcrud5.png"><br><br> </li>
<li>The user demo&#39;s Calendar Dataspace instance UI now should show under &quot;Tasks&quot;/&quot;Events&quot; the new imported task(s)/event(s): <br><br><img src="OdsCalendarCRUDEndpoint/clcrud6.png"><br><br> </li>
<li>Access the SPARQL Public Endpoint.
<br><br><img src="OdsCalendarCRUDEndpoint/abcrud13.png"><br><br> </li>
<li>Suppose there is inserted from above task with id= 1032 </li>
<li>Enter the following query: <br><pre><br>SELECT * 
FROM &lt;http://localhost:8890/dataspace&gt;
WHERE 
  {
    &lt;http://localhost:8890/dataspace/demo/calendar/demoCalendar/Task/1032#this&gt; ?p ?o
  }
</pre><br><br><br><img src="OdsCalendarCRUDEndpoint/clcrud14.png"><br><br> </li>
<li>Click &quot;Run Query&quot;.
</li>
<li>As result the freshly inserted RDF Data for the task in question will be displayed: <br><br><img src="OdsCalendarCRUDEndpoint/clcrud15.png"><br><br></li>
</ol><p> </p>
<h2><a name="Related"></a>Related</h2>
<ul><li><a href="http://ietfreport.isoc.org/idref/draft-ietf-vcarddav-carddav/" class="absuri">CalDAV Specification</a> </li>
<li><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/OdsCalendar" class="wikiword">ODS-Calendar Dataspace</a></li>
</ul></div></body></html>