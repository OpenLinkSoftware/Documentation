<html><body><div class="topic-text"><!--Begin of %VOSWARNING{}%--><div id="warning" style="display: none; color: red; background-color: #eaeaea; font-size: 120%; border: solid 1px silver; padding: 0.1em; margin-top: 1em; margin-bottom: 1em">WARNING! This URL (in the Main cluster) is no longer the authoritative source for this page; it has been moved to the VOS or ODS cluster as appropriate instead.
 See Tim Haynes in case of confusion.</div> <script type="text/javascript"> if(window.location.href.match(//Main//)) { document.getElementById('warning').style.display='block'; } else { document.getElementById('warning').style.display='none'; } </script><!--End of %VOSWARNING{}%--><p> <!--Begin of %META:TOPICPARENT{name="OdsWiki"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OdsWiki"}%--></p>
<!--Begin of %VOSNAV{}%--><p> </p>
<!--End of %VOSNAV{}%--><h2><a name="Wiki Atom based upstream support"></a>Wiki Atom based upstream support</h2>
<p>ODSWiki now supports Atom based upstreaming.
 Any cluster can be configured to escalate any changes to one or several remoted ODS Wiki instances.</p>
<h3><a name="Configuration"></a> Configuration</h3>
<p>Upstreaming can be configured in <code>Cluster Settings</code> page in <code>Upstreams</code> tab.</p>
<p>The form for adding or changing existing upstream contains following fields:</p>

<table class="wikitable"><tr><th id="0"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/ODSWikiAtomUpstreaming?sort=0&col=1"> Field </a></th><th id="1"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/ODSWikiAtomUpstreaming?sort=1&col=2"> Value</a></th></tr><tr><td> name </td><td> name of the upstream - list of upstreams actually a list of such names </td></tr><tr><td> URL    </td><td> URL of remote ODSWiki Atom endpoint. Usually it is something like =http://{server}[:port]/dataspace/{ownername}/wiki/{clustername}/atom-pub </td></tr><tr><td> user  </td><td> name of user who has write permissions on the remote ODSWiki instance </td></tr><tr><td> password </td><td> password of <b>user</b> </td></tr></table>
<h3><a name="Important Notes"></a>Important Notes</h3>
<ol><li>Do not run upstreaming as the dav user lest it risk overwriting unrelated articles.
</li>
<li>A change that comes about via upstream constitutes a new version number on the page in the destination wiki cluster.
</li>
<li>The page in the destination cluster may be locally modified between upstreams </li>
<li>An upstream request will have no effect on pages in the source that have not been modified since the last upstream </li>
<li>When the version number of a page the source cluster is incremented, upstreams will take effect </li>
<li>Local modifications in the destination cluster will be overwritten by subsequent changes in the source (but not until the source is changed).
</li>
<li>If you see &quot;HTTP/401 Precondition Failed&quot; this means you need the same version of the ODS-Wiki VAD package on both the source and destination instances; this is a new check to ensure attachments may be safely transferred in the Atom stream.</li>
</ol><h3><a name="Simple example:"></a>Simple example:</h3>
<ul><li>Note: At myopenlink.net:8890/ods : <ol><li>There is an user test1 with pwd 1 registered.
</li>
<li>User test1 is an owner of a test1Wiki wiki instance.</li>
</ol></li>
</ul><ol><li>Install ODS and Wiki packages.
</li>
<li>Login at <a href="http://host:port/ods" class="absuri">http://host:port/ods</a> </li>
<li>Go to Wiki from the ODS main left vertical navigation.
</li>
<li>Click the &quot;Create New&quot; link.
</li>
<li>In the shown form click the &quot;Create and Launch application&quot;.
</li>
<li>As result is shown the WelcomeVisitors wiki home page.
 From the horizontal navigation click the &quot;Cluster Settings&quot; link.
</li>
<li>Click the &quot;Upstreams&quot; tab.
</li>
<li>Enter in the shown form: <ol><li>For field &quot;Name:&quot; My upstream </li>
<li>For field &quot;URL:&quot; <a href="http://myopenlink.net:8890/dataspace/test1/wiki/test1Wiki/atom-pub" class="absuri">http://myopenlink.net:8890/dataspace/test1/wiki/test1Wiki/atom-pub</a> </li>
<li>For field &quot;User:&quot; test1 </li>
<li>For field &quot;Password:&quot; 1 </li>
<li>Check the check-box for &quot;Make full cluster upstream first&quot;.
</li>
</ol></li>
<li>Click the button &quot;Add/Update Upstream&quot;.
</li>
<li>Click the button &quot;Back to the Topic&quot;.
</li>
<li>In the &quot;Go&quot; field enter TestStream and click enter.
</li>
<li>Enter for the article&#39;s body: simple text.
</li>
<li>Click the button &quot;Save and release lock&quot;.
</li>
<li>Click the &quot;Upstream&quot; now link shown under the article.
</li>
<li>Go to <a href="http://myopenlink.net/test1/wiki/2/test1Wiki" class="absuri">http://myopenlink.net/test1/wiki/2/test1Wiki</a> </li>
<li>Click the &quot;Index&quot; link from the bottom of the page.
</li>
<li>As result among the articles from this instance, should be shown also the TestStream article.</li>
</ol><p><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CategoryODS" class="wikiword">CategoryODS</a> <a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CategoryOpenSource" class="wikiword">CategoryOpenSource</a> <a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/CategoryWiki" class="wikiword">CategoryWiki</a></p>
<!--Begin of %VOSCOPY{}%--><p> </p>
<!--End of %VOSCOPY{}%--><p> </p>
</div></body></html>