<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="VirtTipsAndTricksGuide"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="VirtTipsAndTricksGuide"}%--><h1><a name="Interrogating attributes of a Virtuoso Server instance via SPARQL"></a> Interrogating attributes of a Virtuoso Server instance via SPARQL</h1>
<p>Sometimes you need to know the version or other details about the Virtuoso instance you&#39;re running SPARQL queries against, and only have access to the SPARQL interface, possibly through a proxy page that strips out the server version information included on the default <code>/sparql</code> page.</p>
<p>You can leverage Virtuoso&#39;s built-in-functions, such as <a href="http://docs.openlinksw.com/virtuoso/fn_sys_stat/"><code>sys_stat</code></a>, and the associated <code>bif:</code> SPARQL prefix, to interrogate the server for various details, such as -- </p>
<br><pre>SELECT
  ( bif:sys_stat(&#39;st_dbms_name&#39;)          AS ?name )
  ( bif:sys_stat(&#39;st_dbms_ver&#39;)           AS ?version )
  ( bif:sys_stat(&#39;st_build_thread_model&#39;) AS ?thread )
  ( bif:sys_stat(&#39;st_build_opsys_id&#39;)     AS ?opsys )
  ( bif:sys_stat(&#39;st_build_date&#39;)         AS ?date )
# ( bif:sys_stat(&#39;st_lic_owner&#39;)          AS ?owner )
# ( bif:sys_stat(&#39;st_lic_serial_number&#39;)  AS ?serial )

WHERE
  {  ?s  ?p  ?o  }
LIMIT 1
</pre><p>The <code>st_lic_owner</code> and <code>st_lic_serial_number</code> arguments are only valid on the Commercial Edition, and will produce a SPARQL error on the Open Source Edition</p>
<p> The <a href="http://lod.openlinksw.com/sparql?default-graph-uri=&qtxt=SELECT%0D%0A++%28+bif%3Asys_stat%28%27st_dbms_name%27%29++++++++++AS+%3Fname+%29%0D%0A++%28+bif%3Asys_stat%28%27st_dbms_ver%27%29+++++++++++AS+%3Fversion+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_thread_model%27%29+AS+%3Fthread+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_opsys_id%27%29+++++AS+%3Fopsys+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_date%27%29+++++++++AS+%3Fdate+%29%0D%0A++%28+bif%3Asys_stat%28%27st_lic_owner%27%29++++++++++AS+%3Fowner+%29%0D%0A++%28+bif%3Asys_stat%28%27st_lic_serial_number%27%29++AS+%3Fserial+%29%0D%0A%0D%0AWHERE%0D%0A++%7B++%3Fs+%3Fp+%3Fo++%7D%0D%0ALIMIT+1&format=text%2Fhtml&amp;CXML_redir_for_subjs=121&amp;CXML_redir_for_hrefs=&timeout=30000&debug=on" class="absuri">query above</a> will produce <a href="http://lod.openlinksw.com/sparql?default-graph-uri=&query=SELECT%0D%0A++%28+bif%3Asys_stat%28%27st_dbms_name%27%29++++++++++AS+%3Fname+%29%0D%0A++%28+bif%3Asys_stat%28%27st_dbms_ver%27%29+++++++++++AS+%3Fversion+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_thread_model%27%29+AS+%3Fthread+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_opsys_id%27%29+++++AS+%3Fopsys+%29%0D%0A++%28+bif%3Asys_stat%28%27st_build_date%27%29+++++++++AS+%3Fdate+%29%0D%0A++%28+bif%3Asys_stat%28%27st_lic_owner%27%29++++++++++AS+%3Fowner+%29%0D%0A++%28+bif%3Asys_stat%28%27st_lic_serial_number%27%29++AS+%3Fserial+%29%0D%0A%0D%0AWHERE%0D%0A++%7B++%3Fs+%3Fp+%3Fo++%7D%0D%0ALIMIT+1&format=text%2Fhtml&amp;CXML_redir_for_subjs=121&amp;CXML_redir_for_hrefs=&timeout=30000&debug=on" class="absuri">output akin to the following</a> -- </p>

<table class="wikitable"><tr><th id="0"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=0&col=1">name  </a></th><th id="1"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=1&col=2">version  </a></th><th id="2"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=2&col=3">thread  </a></th><th id="3"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=3&col=4">opsys  </a></th><th id="4"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=4&col=5">date  </a></th><th id="5"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=5&col=6">owner  </a></th><th id="6"><a href="http://ods.openlinksw.com:80/dataspace/owiki/wiki/ODS/VirtCheckSvrVersionViaSparql?sort=6&col=7">serial  </a></th></tr><tr><td align="center">  <code>OpenLink Virtuoso  VDB Server</code>      </td><td align="center">      <code>07.20.3217</code>      </td><td align="center">      <code>-pthreads</code>      </td><td align="center">      <code>Linux</code>      </td><td align="center">      <code>May  8 2016</code>      </td><td align="center">      <code>OpenLink Software Web Site</code>      </td><td align="center">      <code>openlink-www</code>      </td></tr></table>
<p> </p>
</div></body></html>