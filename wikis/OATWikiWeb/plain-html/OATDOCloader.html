<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<h1><a name="loader.js"></a> loader.js</h1>
<p>This is the basic library.
 Can be considered a toolkit on its own, as it provides many useful functions and shortcuts.</p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#Functions">Functions</a></li>
<ul><li><a href="#%24%28element%29">$(element)</a></li> <li><a href="#%24%24%28className%2C%20element%29">$$(className, element)</a></li> <li><a href="#%24v%28element%29">$v(element)</a></li> <li><a href="#OAT.Dom.create%28tagName%2C%20%5BstyleObj%5D%2C%20%5BclassName%5D%29">OAT.Dom.create(tagName, [styleObj], [className])</a></li> <li><a href="#OAT.Dom.createNS%28namespace%2C%20tagName%29">OAT.Dom.createNS(namespace, tagName)</a></li> <li><a href="#OAT.Dom.text%28text%29">OAT.Dom.text(text)</a></li> <li><a href="#OAT.Dom.button%28label%29">OAT.Dom.button(label)</a></li> <li><a href="#OAT.Dom.radio%28name%29">OAT.Dom.radio(name)</a></li> <li><a href="#OAT.Dom.image%28src%2C%20srcBlank%2C%20width%2C%20height%29">OAT.Dom.image(src, srcBlank, width, height)</a></li> <li><a href="#OAT.Dom.option%28name%2C%20value%2C%20%5Bparent%5D%29">OAT.Dom.option(name, value, [parent])</a></li> <li><a href="#OAT.Dom.append%28%5Bparent1%2C%20child1%2C%20child2%2C%20...%5D%2C%20%5Bparent2%2C%20child1%2C%20...%5D%2C...%29">OAT.Dom.append([parent1, child1, child2, ...], [parent2, child1, ...],...)</a></li> <li><a href="#OAT.Dom.hide%28element%29">OAT.Dom.hide(element)</a></li> <li><a href="#OAT.Dom.show%28element%29">OAT.Dom.show(element)</a></li> <li><a href="#OAT.Dom.clear%28element%29">OAT.Dom.clear(element)</a></li> <li><a href="#OAT.Dom.unlink%28element%29">OAT.Dom.unlink(element)</a></li> <li><a href="#OAT.Dom.center%28element%2C%20x%2C%20y%2C%20%5Breference%5D%29">OAT.Dom.center(element, x, y, [reference])</a></li> <li><a href="#OAT.Dom.isChild%28child%2C%20parent%29">OAT.Dom.isChild(child, parent)</a></li> <li><a href="#OAT.Dom.isClass%28element%2C%20className%29">OAT.Dom.isClass(element, className)</a></li> <li><a href="#OAT.Dom.addClass%28element%2C%20className%29">OAT.Dom.addClass(element, className)</a></li> <li><a href="#OAT.Dom.removeClass%28element%2C%20className%29">OAT.Dom.removeClass(element, className)</a></li> <li><a href="#OAT.Dom.getViewport%28%29">OAT.Dom.getViewport()</a></li> <li><a href="#OAT.Dom.getScroll%28%29">OAT.Dom.getScroll()</a></li> <li><a href="#OAT.Dom.position%28element%29">OAT.Dom.position(element)</a></li> <li><a href="#OAT.Dom.getLT%28element%29">OAT.Dom.getLT(element)</a></li> <li><a href="#OAT.Dom.getWH%28element%29">OAT.Dom.getWH(element)</a></li> <li><a href="#OAT.Dom.moveBy%28element%2C%20dx%2C%20dy%29">OAT.Dom.moveBy(element, dx, dy)</a></li> <li><a href="#OAT.Dom.resizeBy%28element%2C%20dx%2C%20dy%29">OAT.Dom.resizeBy(element, dx, dy)</a></li> <li><a href="#OAT.Dom.removeSelection%28%29">OAT.Dom.removeSelection()</a></li> <li><a href="#OAT.Dom.uriParams%28%29">OAT.Dom.uriParams()</a></li> <li><a href="#OAT.Dom.changeHref%28element%2C%20newHref%29">OAT.Dom.changeHref(element, newHref)</a></li> <li><a href="#OAT.Dom.toSafeXML%28string%29">OAT.Dom.toSafeXML(string)</a></li> <li><a href="#OAT.Dom.toSafeXML%28string%29">OAT.Dom.toSafeXML(string)</a></li> <li><a href="#OAT.Event.attach%28element%2C%20event%2C%20callback%29">OAT.Event.attach(element, event, callback)</a></li> <li><a href="#OAT.Event.detach%28element%2C%20event%2C%20callback%29">OAT.Event.detach(element, event, callback)</a></li> <li><a href="#OAT.Event.source%28event%29">OAT.Event.source(event)</a></li> <li><a href="#OAT.Event.cancel%28event%29">OAT.Event.cancel(event)</a></li> <li><a href="#OAT.Event.position%28event%29">OAT.Event.position(event)</a></li> <li><a href="#OAT.Event.prevent%28event%29">OAT.Event.prevent(event)</a></li> <li><a href="#OAT.Style.include%28filename%2Cforce%29">OAT.Style.include(filename,force)</a></li> <li><a href="#OAT.Style.get%28element%2C%20property%29">OAT.Style.get(element, property)</a></li> <li><a href="#OAT.Style.apply%28element%2C%20styleObj%29">OAT.Style.apply(element, styleObj)</a></li> <li><a href="#OAT.Style.opacity%28element%2C%20opacity%29">OAT.Style.opacity(element, opacity)</a></li> <li><a href="#OAT.Style.background%28element%2C%20url%29">OAT.Style.background(element, url)</a></li> </ul><li><a href="#Preferences">Preferences</a></li><ul><li><a href="#OAT.Preferences.showAjax">OAT.Preferences.showAjax</a></li> <li><a href="#OAT.Preferences.useCursors">OAT.Preferences.useCursors</a></li> <li><a href="#OAT.Preferences.windowTypeOverride">OAT.Preferences.windowTypeOverride</a></li> <li><a href="#OAT.Preferences.xsltPath">OAT.Preferences.xsltPath</a></li> <li><a href="#OAT.Preferences.imagePath">OAT.Preferences.imagePath</a></li> <li><a href="#OAT.Preferences.stylePath">OAT.Preferences.stylePath</a></li> <li><a href="#OAT.Preferences.httpError">OAT.Preferences.httpError</a></li> </ul><li><a href="#Properties">Properties</a></li><ul><li><a href="#OAT.Browser.isIE">OAT.Browser.isIE</a></li> <li><a href="#OAT.Browser.isIE6">OAT.Browser.isIE6</a></li> <li><a href="#OAT.Browser.isIE7">OAT.Browser.isIE7</a></li> <li><a href="#OAT.Browser.isGecko">OAT.Browser.isGecko</a></li> <li><a href="#OAT.Browser.isOpera">OAT.Browser.isOpera</a></li> <li><a href="#OAT.Browser.isWebKit">OAT.Browser.isWebKit</a></li> <li><a href="#OAT.Browser.isKonqueror">OAT.Browser.isKonqueror</a></li> <li><a href="#OAT.Browser.isKHTML">OAT.Browser.isKHTML</a></li> <li><a href="#OAT.Browser.isMac">OAT.Browser.isMac</a></li> <li><a href="#OAT.Browser.isLinux">OAT.Browser.isLinux</a></li> <li><a href="#OAT.Browser.isWindows">OAT.Browser.isWindows</a></li> </ul><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="Functions"></a> Functions</h2>
<h3><a name="$(element)"></a> $(element)</h3>
<p>This function is very popular and appears in almost every <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/JavaScript" class="wikiword">JavaScript</a> framework available.
 Its purpose is to provide a shortcut for longer <tt>document</tt>.<tt>getElementById()</tt> functions.
 Basic usage is:</p>
<br><pre>var object = $(&quot;some_id&quot;);
alert(object.tagName);
</pre><p> In this example, we assume that there is a HTML node with id &quot;some_id&quot;.
 The <tt>$()</tt> function converts a string to the object.
 Note that it is perfectly correct to pass an object reference to <tt>$()</tt> function, although not very useful.</p>
<p>Due to the presence of this function in toolkit, every other function that accepts a node reference as an argument can also accept its id.</p>
<h3><a name="$$(className, element)"></a> $$(className, element)</h3>
<p>This function returns a list of HTML nodes below <tt>element</tt> (document when not specified), belonging to a specified className.</p>
<p> <b>NOTE!</b> Prior to OAT version 2.8, this function was identical to <tt>$v()</tt>.
 Please update your code to reflect this change and use <tt>$v()</tt> where appropriate.</p>
<h3><a name="$v(element)"></a> $v(element)</h3>
<p>This function is a shortcut for <tt>$().value.</tt> You should use it when getting a value of any form element.</p>
<h3><a name="OAT.Dom.create(tagName, [styleObj], [className])"></a> OAT.Dom.create(tagName, [styleObj], [className])</h3>
<p>Used for dynamic creation of HTML nodes.
 Three parameters are accepted; the first one is mandatory.
 Example:</p>
<br><pre>var myDiv = OAT.Dom.create(&quot;div&quot;); var myStyledDiv = OAT.Dom.create(&quot;div&quot;, {color : &quot;#f00&quot;, fontWeight : &quot;bold&quot;}, &quot;myDiv_class&quot;);
</pre><p> The second (optional) argument style <tt>Obj</tt> is an object comprised of CSS properties.
 For a full list of valid properties, see Mozilla documentation and MSDN.
 CSS properties are not the same for all browsers, so specifying a floating element looks like:</p>
<br><pre>var element = OAT.Dom.create(&quot;div&quot;, {cssFloat:&quot;left&quot;, styleFloat:&quot;left&quot;}); 
</pre><p> The first declaration is for Gecko; the latter is for MSIE.</p>
<h3><a name="OAT.Dom.createNS(namespace, tagName)"></a> OAT.Dom.createNS(namespace, tagName)</h3>
<p>Used for dynamic creation of HTML nodes in particular namespace.
 See also <tt>OAT.Dom.create()</tt>, above.</p>
<h3><a name="OAT.Dom.text(text)"></a> OAT.Dom.text(text)</h3>
<p>Creates and returns DOM text node with value of argument text.</p>
<h3><a name="OAT.Dom.button(label)"></a> OAT.Dom.button(label)</h3>
<p>Creates and returns DOM button with specified <tt>label</tt>.</p>
<h3><a name="OAT.Dom.radio(name)"></a> OAT.Dom.radio(name)</h3>
<p>Creates and returns DOM radio input with specified <tt>name</tt>.</p>
<h3><a name="OAT.Dom.image(src, srcBlank, width, height)"></a> OAT.Dom.image(src, srcBlank, width, height)</h3>
<p>Creates and returns DOM image node.
 <tt>src</tt> is image&#39;s URL; when PNG is used, specify srcBlank(url of transparent image) for Internet Explorer&#39;s workaround.</p>
<h3><a name="OAT.Dom.option(name, value, [parent])"></a> OAT.Dom.option(name, value, [parent])</h3>
<p>Creates and returns DOM name value parent.</p>
<br><pre>var s = OAT.Dom.create(&quot;select&quot;); OAT.Dom.option(&quot;apples&quot;,1,s); OAT.Dom.option(&quot;bananas&quot;,2,s); OAT.Dom.option(&quot;cherries&quot;,3,s);
</pre><p> </p>
<h3><a name="OAT.Dom.append([parent1, child1, child2, ...], [parent2, child1, ...],...)"></a> OAT.Dom.append([parent1, child1, child2, ...], [parent2, child1, ...],...)</h3>
<p>Links any number of DOM nodes.
 Takes variable amount of arguments, each argument must be an array.
 For each argument:</p>
<ul><li>First value is taken as parent node </li>
<li>All other values are appended to parent (in order in which they appear)</li>
</ul><h3><a name="OAT.Dom.hide(element)"></a> OAT.Dom.hide(element)</h3>
<p>Hides specified element by setting its <tt>style.visibility</tt> property.</p>
<h3><a name="OAT.Dom.show(element)"></a> OAT.Dom.show(element)</h3>
<p>Unhides previously hidden element by setting its <tt>style.visibility</tt> to default value.</p>
<h3><a name="OAT.Dom.clear(element)"></a> OAT.Dom.clear(element)</h3>
<p>This function clears all child nodes from an element.
 May be called with either object reference or id-string as an argument.</p>
<p>For instance, the following would remove all options from existing &lt;select%gt; element with id &quot;my select_element&quot; --</p>
<br><pre>OAT.Dom.clear(&quot;my_select_element&quot;);
</pre><p> </p>
<h3><a name="OAT.Dom.unlink(element)"></a> OAT.Dom.unlink(element)</h3>
<p>Unlinks element from DOM tree.
 Notice that the element is not destroyed as long as it can be referenced</p>
<h3><a name="OAT.Dom.center(element, x, y, [reference])"></a> OAT.Dom.center(element, x, y, [reference])</h3>
<p>Centers element relative to its parent node.
 If <tt>reference</tt> is specified, this node is used instead of parent node.
 <tt>x</tt> and <tt>y</tt> are bools, specifying whether horizontal and/or vertical centering should be done.</p>
<h3><a name="OAT.Dom.isChild(child, parent)"></a> OAT.Dom.isChild(child, parent)</h3>
<p>Tests whether a <tt>child</tt> is a subnode of nodeparent.
 The depth is not important here.</p>
<h3><a name="OAT.Dom.isClass(element, className)"></a> OAT.Dom.isClass(element, className)</h3>
<p>HTML elements may be of multiple classes, this function returns true when at least one of element&#39;s classes is className.
 Example:</p>
<br><pre>var div = OAT.Dom.create(&quot;div&quot;); div.className = &quot;big red fox&quot;; alert( OAT.Dom.isClass(div,&quot;fox&quot;); ); // true
</pre><p> </p>
<h3><a name="OAT.Dom.addClass(element, className)"></a> OAT.Dom.addClass(element, className)</h3>
<p>Adds class className to element.</p>
<h3><a name="OAT.Dom.removeClass(element, className)"></a> OAT.Dom.removeClass(element, className)</h3>
<p>Removes class className from element.</p>
<h3><a name="OAT.Dom.getViewport()"></a> OAT.Dom.getViewport()</h3>
<p>Returns size (2-item array) of current view port.</p>
<h3><a name="OAT.Dom.getScroll()"></a> OAT.Dom.getScroll()</h3>
<p>Returns amount of scroll (2-item array) of current view port.</p>
<h3><a name="OAT.Dom.position(element)"></a> OAT.Dom.position(element)</h3>
<p>Returns x and y coordinates of element&#39;s top left corner, relative to page&#39;s top left corner.
 Coordinates are returned in an array of two elements.
 To count this value, the whole tree of offsetParents must be climbed up, so it is not wise to call this function too often.
 Example:</p>
<br><pre>var coords = OAT.Dom.position(div);
alert(&quot;x: &quot; + coords[0]+&quot;, y:&quot; + coords[1]);
</pre><p> </p>
<h3><a name="OAT.Dom.getLT(element)"></a> OAT.Dom.getLT(element)</h3>
<p>Returns x and y coordinates of element&#39;s top left corner, relative to its offsetParent, in form of array with two elements.</p>
<h3><a name="OAT.Dom.getWH(element)"></a> OAT.Dom.getWH(element)</h3>
<p>Returns width and height of element(in pixels), in form of array with two elements.</p>
<h3><a name="OAT.Dom.moveBy(element, dx, dy)"></a> OAT.Dom.moveBy(element, dx, dy)</h3>
<p>Moves element by dx pixels horizontally and dy pixels vertically.</p>
<h3><a name="OAT.Dom.resizeBy(element, dx, dy)"></a> OAT.Dom.resizeBy(element, dx, dy)</h3>
<p>Resizes element by dx pixels horizontally and dy pixels vertically.</p>
<h3><a name="OAT.Dom.removeSelection()"></a> OAT.Dom.removeSelection()</h3>
<p>Unselects everything selected.</p>
<h3><a name="OAT.Dom.uriParams()"></a> OAT.Dom.uriParams()</h3>
<p>Returns an object of current URI parameters.
 So, for/?a=b&amp;c[]=d&amp;c[]=e, this returns:</p>
<br><pre>{
        a:&quot;b&quot;,
        c:[&quot;d&quot;,&quot;e&quot;]
}
</pre><p> </p>
<h3><a name="OAT.Dom.changeHref(element, newHref)"></a> OAT.Dom.changeHref(element, newHref)</h3>
<p>Changes the href attribute of the given element.</p>
<h3><a name="OAT.Dom.toSafeXML(string)"></a> OAT.Dom.toSafeXML(string)</h3>
<p>Convert HTML special chars in the given string into entities.</p>
<h3><a name="OAT.Dom.toSafeXML(string)"></a> OAT.Dom.toSafeXML(string)</h3>
<p>Decrypt entities in the given string.</p>
<h3><a name="OAT.Event.attach(element, event, callback)"></a> OAT.Event.attach(element, event, callback)</h3>
<p>Attaches function specified with callback to event detected on element.
 The event is specified without the &quot;on&quot; prefix.
 Function reference callback will be called with one argument, the event object reference.
 Example:</p>
<br><pre>OAT.Event.attach(&quot;myDiv&quot;, &quot;click&quot;, function() { alert(&quot;!&quot;); });
</pre><p> </p>
<h3><a name="OAT.Event.detach(element, event, callback)"></a> OAT.Event.detach(element, event, callback)</h3>
<p>Removes attached callback from element fired with event.
 Note that only non-anonymous functions can be detached.</p>
<h3><a name="OAT.Event.source(event)"></a> OAT.Event.source(event)</h3>
<p>Converts event to reference to element which fired it.
 This can be useful when multiple elements fire the same callback and one needs to know which element fired it.
 Example:</p>
<br><pre>var callback = function(event) {
        var id = OAT.Event.source(event).id;
        alert(&quot;Event fired by &quot; + id);
}
var div = OAT.Dom.create(&quot;div&quot;);
div.id = &quot;myDiv&quot;;
OAT.Dom.attach(div, &quot;click&quot;, callback);
</pre><p> </p>
<h3><a name="OAT.Event.cancel(event)"></a> OAT.Event.cancel(event)</h3>
<p>Cancels bubbling of <tt>event</tt>.</p>
<h3><a name="OAT.Event.position(event)"></a> OAT.Event.position(event)</h3>
<p>Returns coordinates of event, relative to top left corner of page.</p>
<h3><a name="OAT.Event.prevent(event)"></a> OAT.Event.prevent(event)</h3>
<p>Prevents default action if event(form submit, context menu, image-to-new-tab drag, ...).</p>
<h3><a name="OAT.Style.include(filename,force)"></a> OAT.Style.include(filename,force)</h3>
<p>Include CSS stylesheet filename into the page.
 (See <tt>OAT.Preferences.stylePath</tt> property.) Stylesheet will be reincluded if force option is passed.</p>
<h3><a name="OAT.Style.get(element, property)"></a> OAT.Style.get(element, property)</h3>
<p>Returns a style property of element.
 This is different from accessing the <tt>element.style.property</tt> value, as this function returns the computed style (i.e., set by stylesheets, etc.) instead of a dynamically created one.
 Example:</p>
<br><pre>var family = OAT.Style.get(&quot;elementId&quot;, &quot;fontFamily&quot;);
alert(family); // returns actual font-family for this element, wherever it is set
</pre><p> </p>
<h3><a name="OAT.Style.apply(element, styleObj)"></a> OAT.Style.apply(element, styleObj)</h3>
<p>Applies style Obj to element.
 <tt>styleObj</tt> follows the same conventions defined in <tt>OAT.Dom.create()</tt>.</p>
<h3><a name="OAT.Style.opacity(element, opacity)"></a> OAT.Style.opacity(element, opacity)</h3>
<p>Sets element&#39;s opacity to opacity.
 Acceptable range: 0 (transparent) - 1 (opaque).</p>
<h3><a name="OAT.Style.background(element, url)"></a> OAT.Style.background(element, url)</h3>
<p>Sets element&#39;s background image to the one specified by url.</p>
<h2><a name="Preferences"></a> Preferences</h2>
<h3><a name="OAT.Preferences.showAjax"></a> OAT.Preferences.showAjax</h3>
<p>Show Ajax window even if not explicitly requested by application.</p>
<h3><a name="OAT.Preferences.useCursors"></a> OAT.Preferences.useCursors</h3>
<p>Use scrollable cursors.</p>
<h3><a name="OAT.Preferences.windowTypeOverride"></a> OAT.Preferences.windowTypeOverride</h3>
<p>Do not guess window type.</p>
<h3><a name="OAT.Preferences.xsltPath"></a> OAT.Preferences.xsltPath</h3>
<p>Path to the XSLT stylesheets.</p>
<h3><a name="OAT.Preferences.imagePath"></a> OAT.Preferences.imagePath</h3>
<p>Path to the images.</p>
<h3><a name="OAT.Preferences.stylePath"></a> OAT.Preferences.stylePath</h3>
<p>Path to the CSS stylesheets.</p>
<h3><a name="OAT.Preferences.httpError"></a> OAT.Preferences.httpError</h3>
<p>Show HTTP errors.</p>
<h2><a name="Properties"></a> Properties</h2>
<h3><a name="OAT.Browser.isIE"></a> OAT.Browser.isIE</h3>
<p>Returns true if used browser is Internet Explorer.</p>
<h3><a name="OAT.Browser.isIE6"></a> OAT.Browser.isIE6</h3>
<p>Returns true if used browser is Internet Explorer 6.</p>
<h3><a name="OAT.Browser.isIE7"></a> OAT.Browser.isIE7</h3>
<p>Returns true if used browser is Internet Explorer 7.</p>
<h3><a name="OAT.Browser.isGecko"></a> OAT.Browser.isGecko</h3>
<p>Returns true if used browser is Gecko-based (Firefox, Mozilla).</p>
<h3><a name="OAT.Browser.isOpera"></a> OAT.Browser.isOpera</h3>
<p>Returns true if used browser is Opera.</p>
<h3><a name="OAT.Browser.isWebKit"></a> OAT.Browser.isWebKit</h3>
<p>Returns true if used browser is Apple WebKit<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/WebKit&parent=OATDOCloader" class="wikiword">?</a>.</p>
<h3><a name="OAT.Browser.isKonqueror"></a> OAT.Browser.isKonqueror</h3>
<p>Returns true if used browser is KDE Konqueror.</p>
<h3><a name="OAT.Browser.isKHTML"></a> OAT.Browser.isKHTML</h3>
<p>Returns true if used browser is KHTML-based (practically, this means Konqueror or Safari).</p>
<h3><a name="OAT.Browser.isMac"></a> OAT.Browser.isMac</h3>
<p>Returns true if used operating system is Mac OS.</p>
<h3><a name="OAT.Browser.isLinux"></a> OAT.Browser.isLinux</h3>
<p>Returns true if used operating system is Linux.</p>
<h3><a name="OAT.Browser.isWindows"></a> OAT.Browser.isWindows</h3>
<p>Returns true if used operating system is Windows.</p>
<p><a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryDocumentation" class="wikiword">CategoryDocumentation</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOAT" class="wikiword">CategoryOAT</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOpenSource" class="wikiword">CategoryOpenSource</a></p>
</div></body></html>