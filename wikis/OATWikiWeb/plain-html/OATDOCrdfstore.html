<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="OATDOCIndex"}%--><p> </p>
<h1><a name="rdfstore.js"></a> rdfstore.js</h1>
<p>Client-side RDF store.
 (see <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/OATDOCrdfbrowser" class="wikiword">RDF Browser</a>)</p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#Objects">Objects</a></li>
<ul><li><a href="#OAT.RDFStore%28callback%2C%20options%29">OAT.RDFStore(callback, options)</a></li> </ul><li><a href="#Properties">Properties</a></li><ul><li><a href="#OAT.RDFStore%3A%3Adata.triples">OAT.RDFStore::data.triples</a></li> <li><a href="#OAT.RDFStore%3A%3Adata.all">OAT.RDFStore::data.all</a></li> <li><a href="#OAT.RDFStore%3A%3Adata.structured">OAT.RDFStore::data.structured</a></li> </ul><li><a href="#Methods">Methods</a></li><ul><li><a href="#OAT.RDFStore%3A%3AaddURL%28url%2C%20onstart%2C%20onend%29">OAT.RDFStore::addURL(url, onstart, onend)</a></li> <li><a href="#OAT.RDFStore%3A%3AaddTriples%28triplesArray%2C%20url%29">OAT.RDFStore::addTriples(triplesArray, url)</a></li> <li><a href="#OAT.RDFStore%3A%3AaddXmlDoc%28xmlDoc%2C%20url%29">OAT.RDFStore::addXmlDoc(xmlDoc, url)</a></li> <li><a href="#OAT.RDFStore%3A%3AgetTitle%28itemReference%29">OAT.RDFStore::getTitle(itemReference)</a></li> <li><a href="#OAT.RDFStore%3A%3Asimplify%28string%29">OAT.RDFStore::simplify(string)</a></li> <li><a href="#OAT.RDFStore%3A%3AaddFilter%28type%2C%20value1%2C%20%5Bvalue2%5D%29">OAT.RDFStore::addFilter(type, value1, [value2])</a></li> <li><a href="#OAT.RDFStore%3A%3AremoveFilter%28type%2C%20value1%2C%20%5Bvalue2%5D%29">OAT.RDFStore::removeFilter(type, value1, [value2])</a></li> <li><a href="#OAT.RDFStore%3A%3Adisable%28url%29">OAT.RDFStore::disable(url)</a></li> <li><a href="#OAT.RDFStore%3A%3Aenable%28url%29">OAT.RDFStore::enable(url)</a></li> </ul><li><a href="#Constants">Constants</a></li><ul><li><a href="#OAT.RDFStoreData.FILTER_PROPERTY">OAT.RDFStoreData.FILTER_PROPERTY</a></li> <li><a href="#OAT.RDFStoreData.FILTER_URI">OAT.RDFStoreData.FILTER_URI</a></li> </ul><li><a href="#CSS%20IDs">CSS IDs</a></li><ul><li><a href="#rdf_side">rdf_side</a></li> <li><a href="#rdf_cache">rdf_cache</a></li> <li><a href="#rdf_filter">rdf_filter</a></li> <li><a href="#rdf_tabs">rdf_tabs</a></li> <li><a href="#rdf_content">rdf_content</a></li> </ul><li><a href="#Examples">Examples</a></li><ul><li><a href="#Example%201">Example 1</a></li> <li><a href="#Example%202">Example 2</a></li> </ul><p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="Objects"></a> Objects</h2>
<h3><a name="OAT.RDFStore(callback, options)"></a> OAT.RDFStore(callback, options)</h3>
<p>Creates the object.
 Argument callback is executed every time store&#39;s contents change.
 Available <tt>options</tt> (properties of options object) are:</p>
<ul><li><tt><b>ajaxStart</b></tt> - function to be executed when dereferencing starts </li>
<li><tt><b>ajaxEnd</b><tt> - function to be executed when dereferencing stops</tt></tt></li>
</ul><h2><a name="Properties"></a> Properties</h2>
<h3><a name="OAT.RDFStore::data.triples"></a> OAT.RDFStore::data.triples</h3>
<p>All loaded data in a big array of triples (array of arrays).</p>
<h3><a name="OAT.RDFStore::data.all"></a> OAT.RDFStore::data.all</h3>
<p>All loaded data in a complex JSON object, as shown in the Example.</p>
<h3><a name="OAT.RDFStore::data.structured"></a> OAT.RDFStore::data.structured</h3>
<p>Loaded data after filters have been applied.
 Same structure as <tt>data.all</tt>.</p>
<h2><a name="Methods"></a> Methods</h2>
<h3><a name="OAT.RDFStore::addURL(url, onstart, onend)"></a> OAT.RDFStore::addURL(url, onstart, onend)</h3>
<p>Dereferences url and adds its contents to store.
 <tt>onstart</tt> and <tt>onend</tt> arguments are used to override global <tt>ajaxStart</tt> and <tt>ajaxEnd</tt> parameters, respectively.</p>
<h3><a name="OAT.RDFStore::addTriples(triplesArray, url)"></a> OAT.RDFStore::addTriples(triplesArray, url)</h3>
<p>Adds an array of triples (triplesArray) to storage.
 The url specifies the address where these triples originate.</p>
<h3><a name="OAT.RDFStore::addXmlDoc(xmlDoc, url)"></a> OAT.RDFStore::addXmlDoc(xmlDoc, url)</h3>
<p>Adds an XML document (xmlDoc, fetched byOAT.AJAX.GETfor instance) to storage.
 The <tt>url</tt> specifies the address where this document originates.</p>
<h3><a name="OAT.RDFStore::getTitle(itemReference)"></a> OAT.RDFStore::getTitle(itemReference)</h3>
<p>Returns a reasonable title (falls back to URI) of an item in storage.</p>
<h3><a name="OAT.RDFStore::simplify(string)"></a> OAT.RDFStore::simplify(string)</h3>
<p>Simplifies an URI by removing as much as possible (leaving the part after &#39;#&#39; or &#39;/&#39;).</p>
<h3><a name="OAT.RDFStore::addFilter(type, value1, [value2])"></a> OAT.RDFStore::addFilter(type, value1, [value2])</h3>
<p>Applies a pass filter to store contents.
 Filter type is specified as one of available constants.</p>
<p>For FILTER_PROPERTY, both 2nd and 3rd arguments should be used: these specify predicate value and object value(only resources having this P and O will pass).</p>
<p>For FILTER_URI, only 2nd argument should be used: this value specifies an URI to be filtered (only resources having this URI as O or S will pass).</p>
<h3><a name="OAT.RDFStore::removeFilter(type, value1, [value2])"></a> OAT.RDFStore::removeFilter(type, value1, [value2])</h3>
<p>Removes a previously set filter; syntax is the same as in <tt>addFilter</tt>.</p>
<h3><a name="OAT.RDFStore::disable(url)"></a> OAT.RDFStore::disable(url)</h3>
<p>Temporarily disables (removes) all triples originating from URL from the store.
 URL must be dereferenced.</p>
<h3><a name="OAT.RDFStore::enable(url)"></a> OAT.RDFStore::enable(url)</h3>
<p>Re-enables previously disabled URL, so its contents are loaded in a store.
 URL must be dereferenced.</p>
<h2><a name="Constants"></a> Constants</h2>
<h3><a name="OAT.RDFStoreData.FILTER_PROPERTY"></a> OAT.RDFStoreData.FILTER_PROPERTY</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h3><a name="OAT.RDFStoreData.FILTER_URI"></a> OAT.RDFStoreData.FILTER_URI</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h2><a name="CSS IDs"></a> CSS IDs</h2>
<h3><a name="rdf_side"></a> rdf_side</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h3><a name="rdf_cache"></a> rdf_cache</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h3><a name="rdf_filter"></a> rdf_filter</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h3><a name="rdf_tabs"></a> rdf_tabs</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h3><a name="rdf_content"></a> rdf_content</h3>
<p>ToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/ToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
<h2><a name="Examples"></a> Examples</h2>
<h3><a name="Example 1"></a> Example 1</h3>
<br><pre>[
    {
        preds:{
            &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;:[
                &quot;http://www.w3.org/2000/10/swap/pim/contact#Male&quot;, 
                &quot;http://xmlns.com/foaf/0.1/Person&quot;
            ],
            &quot;http://www.w3.org/2000/01/rdf-schema#label&quot;:[&quot;Tim Berners-Lee&quot;], 
            &quot;http://www.w3.org/2000/10/swap/pim/contact#assistant&quot;:[{...}], 
            &quot;http://www.w3.org/2000/10/swap/pim/contact#homePage&quot;:[&quot;./&quot;], 
            &quot;http://www.w3.org/2000/10/swap/pim/contact#office&quot;:[{...}]
        },
        ouri:&quot;samples/tbl.xml&quot;,
        type:&quot;http://xmlns.com/foaf/0.1/PersonalProfileDocument&quot;,
        uri:&quot;_:832_0&quot;, 
        back:[{...}]
    }, 
    ...
]
</pre><p> </p>
<h3><a name="Example 2"></a> Example 2</h3>
<br><pre>var callback = function() {
    alert(&quot;Store contents have changed, check them out!&quot;);
}
var store = new OAT.RDFStore(callback, {});
store.addURL(&quot;myRDF.n3&quot;);
</pre><p> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryDocumentation" class="wikiword">CategoryDocumentation</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOAT" class="wikiword">CategoryOAT</a> <a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryOpenSource" class="wikiword">CategoryOpenSource</a> CategoryToBeDone<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/OATWikiWeb/CategoryToBeDone&parent=OATDOCrdfstore" class="wikiword">?</a></p>
</div></body></html>