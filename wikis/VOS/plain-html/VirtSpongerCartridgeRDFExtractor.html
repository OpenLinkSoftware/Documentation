<html><body><div class="topic-text"><!--Begin of %VOSNAV{}%--><p> </p>
<!--End of %VOSNAV{}%--><p> <!--Begin of %META:TOPICPARENT{name="VirtSponger"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="VirtSponger"}%--></p>
<h2><a name="Sponger Cartridge RDF Extractor"></a>Sponger Cartridge RDF Extractor</h2>
<p>Used to extract RDF from a Web Data Source.
 It consumes services from Virtuoso PL, C/C++, Java-based, and other RDF Extractors.</p>
<p>RDF mappers provide a way to extract metadata from non-RDF documents such as HTML pages, images, Office documents, etc., and pass this to the SPARQL sponger (crawler which retrieves missing source graphs).
 For brevity further in this article, we will refer to the &quot;RDF mapper&quot; simply as the &quot;mapper&quot;.</p>
<h2><a name="RDF Mappers Concept"></a>RDF Mappers Concept</h2>
<p>RDF mappers consist of PL procedure (hook) and extractor, where extractor itself can be built using PL, C or any external language supported by Virtuoso server.
 See the <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtProgrammerGuideRDFCartridge" class="wikiword">Sponger Cartridge RDF Extractor PL Requirements</a> for more information.</p>
<p>Once the mapper is developed, it must be plugged into the SPARQL engine by adding a record to the table <code>DB.DBA.SYS_RDF_MAPPERS</code>.</p>
<p> If a SPARQL query instructs the SPARQL processor to retrieve a target graph into local storage, then the SPARQL sponger will be invoked.
 If the target graph IRI represents a dereferenceable URL, then content will be retrieved using content negotiation.
The next step is to detect the content type:</p>
<ul><li>If RDF and no further transformation (such as GRDDL) is needed, then the process would stop.
</li>
<li>If &#39;text/plain&#39; and not known to have metadata, then the SPARQL sponger will look in the <code>DB.DBA.SYS_RDF_MAPPERS</code> table by order of <code>RM_ID</code> and for every matching URL or MIME type pattern (depends on column  <code>RM_TYPE</code>) will call the mapper hook.
<ul><li>If hook returns zero, the next mapper will be tried; </li>
<li>If result is negative, the process would stop instructing the SPARQL nothing was retrieved; </li>
<li>If result is positive, the process would stop instructing the SPARQL that metadata was retrieved.</li>
</ul></li>
</ul><h2><a name="References"></a>References</h2>
<ul><li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/RDFMappers" class="wikiword">RDF Mappers</a> </li>
<li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/SPARQLSponger" class="wikiword">Virtuoso SPARQLSponger</a> </li>
<li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtProgrammerGuideRDFCartridge" class="wikiword">RDF Cartridge Programmer Guide</a> </li>
<li><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/VirtSpongerCartridgeSupportedDataSources" class="wikiword">OpenLink-supplied Virtuoso Sponger Cartridges</a></li>
</ul><p> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryVirtuoso" class="wikiword">CategoryVirtuoso</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategorySpec" class="wikiword">CategorySpec</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryDocumentation" class="wikiword">CategoryDocumentation</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryODS" class="wikiword">CategoryODS</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryRDF" class="wikiword">CategoryRDF</a></p>
<!--Begin of %VOSCOPY{}%--><p> </p>
<!--End of %VOSCOPY{}%--><p> </p>
</div></body></html>