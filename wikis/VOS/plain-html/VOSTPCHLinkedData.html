<html><body><div class="topic-text"><!--Begin of %VOSWARNING{}%--><div id="warning" style="display: none; color: red; background-color: #eaeaea; font-size: 120%; border: solid 1px silver; padding: 0.1em; margin-top: 1em; margin-bottom: 1em">WARNING! This URL (in the Main cluster) is no longer the authoritative source for this page; it has been moved to the VOS or ODS cluster as appropriate instead.
 See Tim Haynes in case of confusion.</div> <script type="text/javascript"> if(window.location.href.match(//Main//)) { document.getElementById('warning').style.display='block'; } else { document.getElementById('warning').style.display='none'; } </script><!--End of %VOSWARNING{}%--><p> <!--Begin of %VOSNAV{}%--><p> </p>
<!--End of %VOSNAV{}%--></p>
<h1><a name="TPC H As Linked Data"></a>TPC H As Linked Data</h1>
<p>Bringing Linked Data to Analytics</p>
<!--Begin of %TOC{}%--><p> </p><div class="MACRO_TOC">  <div class="wikitoc">   <ul> <li><a href="#Introduction">Introduction</a></li> <li><a href="#Mapping">Mapping</a></li> <li><a href="#Queries">Queries</a></li> <li><a href="#Dereferenceable%20URIs">Dereferenceable URIs</a></li> <li><a href="#Running%20the%20Samples">Running the Samples</a></li> <li><a href="#Running%20the%20Samples%20Against%20External%20Data">Running the Samples Against External Data</a></li>
<p>  </p></ul>  </div> </div>
<!--End of %TOC{}%--><h2><a name="Introduction"></a>Introduction</h2>
<p>This article takes the industry standard TPC-H decision support benchmark and shows how its data can be exposed as linked data from any relational database.</p>
<p>Virtuoso can either host the data itself or attach the relevant tables from any other database.
 Here we will look at a miniature sample of the TPC-H benchmark database that comes with the demo database.</p>
<p>Exposing this data consists of a mapping declaration which translates the contents of the tables into a virtual RDF graph.
 The triples involved are not physically stored but are created on demand as requested by SPARQL queries or dereferencing the URIs representing the logical entities in the database.</p>
<h2><a name="Mapping"></a>Mapping</h2>
<p>See the attached SQL file:</p>
<a href="VOSTPCHLinkedData/tpch.sql" style="wikiautogen">tpch.sql</a><h2><a name="Queries"></a>Queries</h2>
<p>See the attached SQL file:</p>
<a href="VOSTPCHLinkedData/tpch.sql" style="wikiautogen">tpch.sql</a><p>As of this writing, not all the queries are supported.
 Thus you will see some of them commented-out.
 The relevant optimizations and SPARQL extensions for running these are being developed at the time of this writing.</p>
<h2><a name="Dereferenceable URIs"></a>Dereferenceable URIs</h2>
<p>See the attached SQL file:</p>
<a href="VOSTPCHLinkedData/tpch.sql" style="wikiautogen">tpch.sql</a><p>This file defines a virtual directory and URI-rewrite rules that capture references to the TPC-H entities.
 The URL rewrite rules in this file catch references to the the TPC-H entities and redirect these into a SPARQL describe queries on the URI in question.
 The redirect makes an HTTP 303 redirection reply that goes to the SPARQL endpoint with a `describe&#39; query for the object in question.</p>
<h2><a name="Running the Samples"></a>Running the Samples</h2>
<p>There is a live sample of this demo running at</p>
<p><a href="http://demo.openlinksw.com/DAV/home/demo/tpch/" class="absuri">http://demo.openlinksw.com/DAV/home/demo/tpch/</a></p>
<p>Virtuoso Open Source Edition will come with an implementation of the TPC-H data and queries from version 5.0.6 onwards.</p>
<p>Start the demo server and connect to <a href="http://localhost:8890/DAV/home/demo/tpch" class="absuri">http://localhost:8890/DAV/home/demo/tpch</a> with a web browser.</p>
<p>The host part of the URIs given to the TPC-H data is given by the DefaultHost<a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/DefaultHost&parent=VOSTPCHLinkedData" class="wikiword">?</a> entry in the URIQA section of the virtuoso.ini file.</p>
<h2><a name="Running the Samples Against External Data"></a>Running the Samples Against External Data</h2>
<p>With the commercial release of Virtuoso, the tables do not have to reside in Virtuoso itself.
 They can be attached from any supported database using the Virtual Database layer (VDB).
 These can then be mapped into a graph of their own by re-running the mapping statements with the graph and tables renamed.</p>
<p> <!--Begin of %VOSCOPY{}%--><p> </p>
<!--End of %VOSCOPY{}%--></p>
<p><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryWebSite" class="wikiword">CategoryWebSite</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryVirtuoso" class="wikiword">CategoryVirtuoso</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryOpenSource" class="wikiword">CategoryOpenSource</a></p>
</div></body></html>