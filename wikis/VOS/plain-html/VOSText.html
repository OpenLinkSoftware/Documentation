<html><body><div class="topic-text"><!--Begin of %VOSWARNING{}%--><div id="warning" style="display: none; color: red; background-color: #eaeaea; font-size: 120%; border: solid 1px silver; padding: 0.1em; margin-top: 1em; margin-bottom: 1em">WARNING! This URL (in the Main cluster) is no longer the authoritative source for this page; it has been moved to the VOS or ODS cluster as appropriate instead.
 See Tim Haynes in case of confusion.</div> <script type="text/javascript"> if(window.location.href.match(//Main//)) { document.getElementById('warning').style.display='block'; } else { document.getElementById('warning').style.display='none'; } </script><!--End of %VOSWARNING{}%--><p> <!--Begin of %META:TOPICINFO{author="DeeGerhardt" date="1144081093" format="1.1" version="1.1"}%--><p> </p>
<!--End of %META:TOPICINFO{author="DeeGerhardt" date="1144081093" format="1.1" version="1.1"}%--> <!--Begin of %VOSNAV{}%--><p> </p>
<!--End of %VOSNAV{}%--></p>
<h1><a name="Virtuoso Full Text"></a> Virtuoso Full Text</h1>
<p> </p>
<h3><a name="Text Indexing"></a> Text Indexing</h3>
<p>Like many relational databases, Virtuoso allows creating a full text index on a character or character LOB column.
 Virtuoso offers a CONTAINS predicate with a full text matching language compatible with Microsoft SQL Server, with AND, OR, AND NOT, phrases, wildcards etc.</p>
<p>A text index can be maintained in strict transactional synchrony with the indexed table  or with a batch delay.
 Text indices are maintained in the same database by the same engine and require no extra software or additional processes or separate maintenance or backing up.</p>
<h3><a name="Scores and Search Summaries"></a> Scores and Search Summaries</h3>
<p>The contains predicate introduces a virtual column reflecting the relevance of the search criteria on the matched document.
 The score is a composite of matched word frequency and proximity in the matched document.</p>
<p>Given a match and a search expression, the search_excerpt SQL function composes a search-hit summary similar to the result excerpts shown by Google and others.</p>
<h3><a name="Tracking Changes"></a> Tracking Changes</h3>
<p>Virtuoso has a special full text trigger capability that will flag changes made to text-indexed columns.
 When a column changes, the data indexes a base of stored queries.
 The queries, which are potential hits then, get evaluated against the incoming data and results are stored in a hits table.
 In this way, personalized notifications can be implemented without having to periodically re-evaluate all the stored queries of the users.</p>
<p>This makes a dramatic difference in the scalability of any personalized change tracking.
 This can be applied to implementing services like pubsub, various types of news alerts and so forth.</p>
<p> </p>
<h3><a name="Customizing Indexing, Off band Data"></a> Customizing Indexing, Off band Data</h3>
<p> In almost all applications, full text conditions coexist with other search conditions.
 Dramatic performance increase is achieved if all or most  conditions can be evaluated within the text index.</p>
<p>To support this, Virtuoso provides indexing and unindexing hooks that can add extra words or off band data to the indexed text as well as perform any format conversions such as stripping HTML tags off the text before indexing.
 For example, if a table holds text indexed emails, it makes sense to add the folder and the mailbox identifier strings as extra words.
 By adding these words to the search conditions, the search can be scoped to mailbox and folder without having to consult the emails table itself.
 Likewise, if the messages received datetime is stored as off band data, it is possible to filter on time without having to look up the row of the emails table.</p>
<p>The text index references the main table with a numeric row id.
 Sometimes this id can have application level semantic.
 If ids are allocated in ascending order, searching in descending order of id gives the most recent hits first.
 Thus, the natural order of the index can be exploited for application purposes without having to sort.
 Ranking on hit score always requires sorting since the score is a function of the search pattern and the hit and cannot be pre-calculated.</p>
<p> <!--Begin of %VOSCOPY{}%--><p> </p>
<!--End of %VOSCOPY{}%--></p>
<p><a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryWebSite" class="wikiword">CategoryWebSite</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryVirtuoso" class="wikiword">CategoryVirtuoso</a> <a href="http://vos.openlinksw.com:80/dataspace/owiki/wiki/VOS/CategoryOpenSource" class="wikiword">CategoryOpenSource</a></p>
</div></body></html>