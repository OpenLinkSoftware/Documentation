<html><body><div class="topic-text"><p> <br></p><h1><a name="doc.FAQ.MyMulti-"></a> doc.FAQ.MyMulti-TierDSNFailsToDisconnectWhatDoIDo<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/TierDSNFailsToDisconnectWhatDoIDo&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a></h1>
<!--Begin of %TOC{}%--><p> <br></p><div class="MACRO_TOC"> <br> <div class="wikitoc"> <br>  <ul><p>  </p></ul> <br> </div> <br></div><!--End of %TOC{}%--><p> <br></p><ul><li>Use your database native transaction monitor to see if OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  drivers are locked in pending transactions.
 OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  drivers cannot disconnect from a database while they are still engaged in transactions.
<br></li>
<li>Ensure that your application does not enforce manual commits.
 Use of manual commit may encourage the behavior described above.
<br></li>
<li>Check the database native error logs for failures that may contribute to this problem.
<br></li>
<li>Create a client-side ODBC trace.
 Examine the trace to ensure that the application sends the proper sequence of SQLFree()s and SQLDisconnect()s to the driver.
<br></li>
<li>Perform the following test: <br></li>
<li>Recreate the problem.
<br></li>
<li>Run oplshut -s on a command line.
<br></li>
<li>Observe the number of OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  database agent processes.
<br></li>
<li>Compare the output of oplshut -s with a Unix ps -ef or Windows Task Manager.
<br></li>
<li>Upgrade if oplshut -s or the Windows Task Manager shows more agent processes.
<br></li>
<li>Connect to Progress databases in sockets mode.
 A Progress shared memory library bug causes OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  &#39;s database agents to linger.
<br></li>
<li>Contact OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  Product Support, if you use Progress 91C or 91D.
 OpenLink<a href="http://wikis.openlinksw.com:80/dataspace/owiki/wiki/UdaWikiWeb/OpenLink&parent=UdadocFAQMyMulti-TierDSNFailsToDisconnectWhatDoIDo" class="wikiword">?</a>  is working to resolve occurrences of lingering agents that are not associated with the shared memory bug.</li>
</ul><hr></div></body></html>