%META:TOPICPARENT{name="SingleTierLiteInstallUnix"}%
= Installation and Configuration of Single-Tier "Lite" Edition ODBC Driver for Microsoft SQL Server for Unix =
**Review Pre-installation Documentation:**  [[PreinstallSQLLiteUnix|Pre-Installation Requirements for Microsoft SQL Server Single-Tier Drivers (Unix)]]

==Installation==

# Log in to your Unix or Linux client machine.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Login.png" style="wikiautogen"/>%BR%%BR%
# cd into the installation directory.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_CD_Demos.png" style="wikiautogen"/>%BR%%BR%
# The installation files ship as an installation shell script, a driver and admin .taz file, and a license .lic file. The installation shell script should be ftp'd in ascii. The rest of the files should be ftp'd in binary, where applicable.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_LS_Files.png" style="wikiautogen"/>%BR%%BR%
# Run the following command to start the installation
{{{
sh install.sh
}}}
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Start_Install.png" style="wikiautogen"/>%BR%%BR%
# If you have a pre-existing installation running on the machine, you will be presented with the following options.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_2.png" style="wikiautogen"/>%BR%%BR%
# You must choose a TCP port on which to run your HTTP-based iODBC Data Sources Administrator. The default is 8000. You will need to know this port number and your local machine's IP address or hostname to access your Admistrator in a Web browser. This is how you call it
{{{
http://hostname.or.ip.address:portnumber/
}}}
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_8000.png" style="wikiautogen"/>%BR%%BR%
# This enables you to name your administrator's log file. It is best to go with the default.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_log.png" style="wikiautogen"/>%BR%%BR%
# You can choose to log all requests. This is not diagnostic-level odbc tracing or connection logging. The default is no. 
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_Requests.png" style="wikiautogen"/>%BR%%BR%
# You can change the iODBC Data Source Administrator's default username from "admin." This is the name that you will need to login to <nop>OpenLink's HTTP-based iODBC Data Sources Administrator.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_Admin.png" style="wikiautogen"/>%BR%%BR%
# You can change the iODBC Data Source Administrator's default password from "admin."
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Admin_PWD.png" style="wikiautogen"/>%BR%%BR%
# The installation is complete.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Install_End.png" style="wikiautogen"/>%BR%%BR%


==Configuration==

** Jump to manual configuration docs:** [[ManuallyConfigureSQLLiteConnectivity|Manually Configure SQL Server Connectivity]]

# Execute the {{{bash}}} command to open a bash shell. If you do not have have the bash shell, substitute the {{{sh}}} command for the {{{bash}}} command. This will open the bourne shell.
%BR%%BR%<img src="%ATTACHURLPATH%/SQL_ST_Bash.png" style="wikiautogen"/>%BR%%BR%
# Run the following command to set your ODBC environment variables.  This should also automatically start the OpenLink License Manager.
{{{
. ./openlink.sh
}}}
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_openlinksh.png" style="wikiautogen"/>%BR%%BR%
# cd into the bin sub-directory of your <nop>OpenLink installation.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_CD_BIN.png" style="wikiautogen"/>%BR%%BR%
# Use the {{{ls}}} command to display your files.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_LS.png" style="wikiautogen"/>%BR%%BR%
# Run the following command to start your HTTP-based iODBC Data Sources Administrator
{{{
./iodbc-admin-httpd.sh start
}}}
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Start_Admin.png" style="wikiautogen"/>%BR%%BR%
# Open a Web browser on any computer and type the URL for your administrator in the address bar.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Open_Admin.png" style="wikiautogen"/>%BR%%BR%
# Click the Client Components Administration link in the left hand side navigation bar.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Client_Components_Admin.png" style="wikiautogen"/>%BR%%BR%
# Click the Configure ODBC Data Sources link in the left hand side navigation bar.
# Then, login with your username and password.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Admin_Login.png" style="wikiautogen"/>%BR%%BR%
# Click the Add button.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Admin_DSN_Tab.png" style="wikiautogen"/>%BR%%BR%
# Click the <nop>OpenLink SQL Server Lite Driver (multi-threaded). Then, click Create DSN.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Choose_Driver.png" style="wikiautogen"/>%BR%%BR%
# Provide a descriptive name and optional description for your DSN. Then, click Next.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Name_DSN.png" style="wikiautogen"/>%BR%%BR%
# Pass the following values in the next dialog:
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Connection_Attributes.png" style="wikiautogen"/>%BR%%BR%
#* **Database Name**  - A valid SQL Server database name
#* **Username**  - SQL Server login
#* **Connection Options**  - The following Connection Options can be passed to the driver
##* **{{{-H <FQDN>}}}** - Fully-qualified domain name (i.e., DNS-resolvable hostname) or IP address of the SQL Server host machine. Overrides {{{TDSHOST}}} in {{{$OPENLINKINI}}}.
##* **{{{-P <port number>}}}** - TCP Port at which the target SQL Server instance is listening. Overrides {{{TDSPORT}}} in {{{$OPENLINKINI}}}.
##* **{{{-V <version>}}}** - The [[TDSVersionsExplained|TDS version appropriate to the target SQL Server]].  Overrides {{{TDSVER}}} in {{{$OPENLINKINI}}}.
##* **{{{-I <instance>}}}** - SQL Server instance name on the specified host machine (-H). This flag should be used in preference to the "{{{-S}}}" flag above when connecting to a SQL Server named instance. Overrides {{{DSQUERY}}} in {{{$OPENLINKINI}}}.
##* **{{{-S <server-name>}}}** - //Not recommended.  {{{-H}}} and {{{-I}}} are preferred.//  Specifies a target SQL Server instance by combining the host and instance names as "{{{<FQDN>\\<instance>}}}", e.g., "{{{sql-host.example.com\\demo-instance}}}". Note the double backslash ({{{\\}}}) between the <nop>SQLServerName and <nop>InstanceName.
##* **{{{-F <fail-over server name>}}}** - Specify Failover server name for Database Mirroring
##* **{{{-N <size>}}}** - Network Packet size, which is a value that determines the number of bytes per network packet transferred from the database server to the client. The correct setting of this attribute can improve performance. When set to 0, the initial default, the driver uses the default packet size as specified in the Sybase server configuration. When set to -1, the driver computes the maximum allowable packet size on the first connect to the data source and saves the value in the system information.
##* **{{{-O <value>}}}**  Prepared Method, which is a value that determines whether stored procedures are created on the server for every call to SQLPrepare. When set to Full (2), stored procedures are created for every call to SQLPrepare, which can decrease performance when processing static statements. When set to Partial(1), the initial default, the driver creates stored procedures only if the statement contains parameters. Otherwise, the statement is cached and executed directly at SQLExecute time. When set to None (0), the driver never creates stored procedures.
##* **{{{-L <language>}}}** - The name of a Microsoft SQL Server supported national language. The default language is English.
##* **{{{-C <character set>}}}** - The name of an installed character set on the server. By default it is the setting on the Microsoft SQL Server.
##* **{{{-A}}}** - Turn Off ANSI NULL handling
##* **{{{-E}}}** - Turn On SSL Strong Data Encryption
##* **{{{-R}}}** - Turn On SSL Server Certificate Verification
##* **{{{-D <filename>}}}** - Specify Name of Certificate Authority file to be used for SSL Certificate Verification
##* **{{{-Z}}}** - Turn On Snapshot Serializable Isolation
##* **{{{-M}}}** - Turn On Multiple Active Result Sets (MARS)
# Click Next.
# Set the following variables on the next dialog:
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Environment_Variables.png" style="wikiautogen"/>%BR%%BR%
#* **Existing Environment** - This arbitrary heading for a collection of DBMS-related environment variables usually corresponds with the DBMS version
#* **New Environment** - You can choose a new heading.
#* **FREETDSCONF** - The full path to the fallback freetds.conf file installed with our drivers.
#* **DSQUERY** - [[HowDoIFindMySQLServerInstanceName|SQL Server instance name]].  <i>Overridden by {{{-I}}} flag value in DSN {{{Options}}}.</i>
#* **TDSHOST** - SQL Server database server hostname or IP address. <i>Overridden by {{{-H}}} or {{{-S}}} flag value in DSN {{{Options}}}.</i>
#* **TDSPORT** - [[HowDoIFindMySQLServerListenPort|SQL Server listen port]]. <i>Overridden by {{{-P}}} flag value in DSN {{{Options}}}.</i>
#* **TDSVER** - The [[TDSVersionsExplained|TDS version appropriate to the target SQL Server]]. <i>Overridden by {{{-V}}} flag value in DSN {{{Options}}}.</i>
#* **SQLSERVER_CATALOG** -
#* **CURSOR_SENSITIVITY** - Enables or disables the row version cache used with dynamic cursors. When dynamic cursor sensitivity is set high, the Cursor Library calculates checksums for each row in the current rowset and compares these with the checksums (if any) already stored in the row version cache for the same rows when fetched previously. If the checksums differ for a row, the row has been updated since it was last fetched and the row status flag is set to SQL_ROW_UPDATED. The row version cache is then updated with the latest checksums for the rowset. From the user's point of view, the only visible difference between the two sensitivity settings is that a row status flag can never be set to SQL_ROW_UPDATED when the cursor sensitivity is low. (The row status is instead displayed as SQL_ROW_SUCCESS.) In all other respects, performance aside, the two settings are the same. Deleted rows don't appear in the rowset. Updates to the row since the row was last fetched are reflected in the row data, and inserted rows appear in the rowset, if their keys fall within the span of the rowset. If your application does not need to detect the row status SQL_ROW_UPDATED, you should leave the 'High Cursor Sensitivity' checkbox unchecked, as performance is improved. The calculation and comparison of checksums for each row fetched carries an overhead. If this option is enabled, the table oplrvc must have been created beforehand using the appropriate script for the target database.
# Click Next.
# You can set the following, optional values on the fourth dialog:
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Additional_Options.png" style="wikiautogen"/>%BR%%BR%
#* **Read-only connection** - Specifies whether the connection is "Read-only." Make sure the checkbox is unchecked to request a "Read/Write" connection.
#* **Defer fetching of long data** - Defers fetching of LONG (BINARY, BLOB etc.) data unless explicitly requested in a query. This provides significant performance increases when fields in query do not include LONG data fields.
#* **Disable interactive login** - Suppresses the ODBC "Username" and "Password" login dialog boxes when interacting with your ODBC DSN from within an ODBC compliant application.
#* **Jet fix** -    This option facilitates translation of certain datatypes by the Microsoft Jet Engine. If you utilize MS applications, and you notice that money and other datatypes are mishandled, test with Jet fix enabled. 
#* **No <nop>AutoCommit** - Changes the default commit behaviour of the <nop>OpenLink driver. The default mode is <nop>AutoCommit (box unchecked).
#* **No <nop>RowSetSize limit** - Disables a limitation enforced by the cursor library. This limitation is enforced by default. It prevents the driver from claiming all available memory in the event that a resultset generated from an erroneous query is very large. The limit is normally never reached.
# Click Next.
# Additional, optional parameters appear on the fifth, and final dialog:
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Additional_Options2.png" style="wikiautogen"/>%BR%%BR%
#* **Row buffer size** - This attribute specifies the number of records to be transported over the network in a single network hop. Values can range from 1 to 99.
#* **Max Rows** - Allows you to define a limit on the maximum number of rows to be returned from a query. The default value of 0 means no limit.
#* **SQL_DBMS_Name** - Manually overrides the <nop>SQLGetInfo(SQL_DBMS_NAME) response returned by the driver. This is required for products like Microsoft <nop>InfoPath for which the return the value should be "SQL Server".
#* **Initial SQL** - Lets you specify a file containing SQL statements that will be run automatically against the database upon connection.
# Click Next.
# Your new DSN is highlighted and persisted on the the Data Sources tab. Click the Test tab.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Saved_DSN.png" style="wikiautogen"/>%BR%%BR%
# Type your password in the password field and click test.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Authenticate.png" style="wikiautogen"/>%BR%%BR%
# You have established a connection.
%BR%%BR%<img src="%ATTACHURLPATH%/ST_SQL_Connected.png" style="wikiautogen"/>%BR%%BR%

==Proceed to Commercial Licensing Documentation==

If you purchase a commercial license at the end of your evaluation period, be sure to consult [[http://wiki.usnet.private/dataspace/dav/wiki/UdaWikiWeb/UDALicenseApplication|our documentation]] which explains the placement and uptake of commercial license files and the use of our <b><nop>OpenLink License Manager</b> technology.
