<html><body><div class="topic-text"><!--Begin of %META:TOPICPARENT{name="LicenseTerminology"}%--><p> </p>
<!--End of %META:TOPICPARENT{name="LicenseTerminology"}%--><h2><a name="How Do I Monitor Open Database Sessions Associated With DB2 ODBC Connections"></a> How Do I Monitor Open Database Sessions Associated With DB2 ODBC Connections</h2>
<p>You can use the Event Monitors feature that is present in the DB2 System Monitor.
 The Event Monitors feature allows you to create and activate a monitor that logs  for one or more of each of the following events:</p>
<ul><li>Deadlocks </li>
<li>Statements </li>
<li>Transactions </li>
<li>Connections </li>
<li>Database </li>
<li>Buffer pools </li>
<li>Table spaces </li>
<li>Tables Read or Written</li>
</ul><p>These monitors may be created and activated using the following syntax:</p>
<br><pre>db2 connect to &lt;database&gt;
db2 &quot;create event monitor &lt;monitor name&gt; for &lt;event(s)&gt; write to file &#39;filename&#39;&quot;
mkdir &lt;directory for event file&gt;
db2 &quot;set event monitor &lt;monitor name&gt; state 1&quot;
</pre><p> For example</p>
 <p><b>Unix</b> </p>
<br><pre>db2 connect to sample
db2 &quot;create event monitor connmon for connections write to file &#39;/tmp/connections/connmon.log&#39;&quot;
mkdir /tmp/connections
db2 &quot;set event monitor connmon state 1&quot;
</pre> <p><b>Windows</b> </p>
<br><pre>db2 connect to sample
db2 &quot;create event monitor connmon for connections write to file &#39;C:\Temp\connections\connmon.log&#39;&quot;
mkdir C:\Temp\connections
db2 &quot;set event monitor connmon state 1&quot;
</pre><p> Use db2evmon -path <path to="to" filename="filename"> to format and display the contents of the log.
 For example:</path></p>
 <p><b>Unix</b> </p>
<br><pre>db2evmon -path /tmp/connections/connmon.log
</pre><p>  <b>Windows</b> </p>
<br><pre>db2evmon -path C:\Temp\connections\connmon.log
</pre><p> Finally, deactivate event monitors by setting the state to 0.
 For example:</p>
<p> </p>
<br><pre>db2 connect to sample
db2 &quot;set event monitor connmon state 0&quot;
</pre></div></body></html>